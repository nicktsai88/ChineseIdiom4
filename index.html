<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>成語大師 (精選成語版)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        /* 基礎設定 */
        body { 
            font-family: "Noto Sans TC", "Microsoft JhengHei", system-ui, sans-serif; 
            -webkit-font-smoothing: antialiased;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        
        /* 捲軸美化 */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.5); }
        ::-webkit-scrollbar-thumb { background: #d4c4a8; border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: #b09b7c; }
        
        /* 動畫定義 */
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
        .animate-pop { animation: pop 0.3s ease-in-out; }
        
        @keyframes fade-in-up { 
            0% { opacity: 0; transform: translateY(20px); } 
            100% { opacity: 1; transform: translateY(0); } 
        }
        .animate-fade-in-up { animation: fade-in-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .animate-shake { animation: shake 0.4s ease-in-out; }
        
        /* 圖片容器互動 */
        .group-img:hover img { transform: scale(1.08); }
        
        /* 禁止選取文字 (用於按鈕) */
        .no-select { user-select: none; -webkit-user-select: none; }

        /* 表格響應式優化 */
        .table-container {
            overflow-x: auto;
        }
        .prose-table td, .prose-table th {
            white-space: pre-wrap; /* 允許文字換行 */
            min-width: 120px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;
        const ITEMS_PER_PAGE = 15; // 依照要求每頁 15 個，第17頁自動為13個

        // --- 完整成語資料庫 (1-253) ---
        // 資料結構：id, term(成語), definition(解釋), sentence1(例句1-學習用), sentence2(例句2-測驗用), scene(情境)
        const IDIOM_DATA = [
            { id: 1, term: "塵緣", definition: "世俗的緣分。在文學中多指男女之間在人世間的愛情因緣。", sentence1: "雖然他們相愛，但塵緣已盡，最終只能分道揚鑣。", sentence2: "這首詩描寫了主角祈求佛祖結一段塵緣的痴情。", scene: "少年回首紅塵，牽掛俗世的情緣。" },
            { id: 2, term: "視若無睹", definition: "雖然看見了，卻像沒看見一樣。形容對眼前的事物漠不關心。", sentence1: "對於社會上的弱勢群體，我們絕不能視若無睹。", sentence2: "他對父母的苦心勸導視若無睹，依舊我行我素。", scene: "明明看見卻假裝沒看到，不予理會。" },
            { id: 3, term: "跌宕起伏", definition: "形容音樂音調抑揚頓挫，或故事情節富於變化、引人入勝。", sentence1: "這部小說的情節跌宕起伏，讓人一讀就停不下來。", sentence2: "他的一生跌宕起伏，充滿了傳奇色彩。", scene: "山路高低不平，比喻情節曲折。" },
            { id: 4, term: "一見鍾情", definition: "指男女之間第一次見面就產生了愛慕之情。", sentence1: "他們兩人在舞會上一見鍾情，很快就墜入愛河。", sentence2: "這部電影講述了一對男女一見鍾情的浪漫故事。", scene: "初次見面就產生愛慕之意。" },
            { id: 5, term: "無懈可擊", definition: "形容十分嚴密，找不到一點漏洞或缺點可以用來攻擊。", sentence1: "他的辯論邏輯嚴密，簡直無懈可擊，對手無法反駁。", sentence2: "這項計畫經過多次修正，已經到了無懈可擊的地步。", scene: "防禦嚴密，沒有一點破綻。" },
            { id: 6, term: "載歌載舞", definition: "邊唱歌，邊跳舞。形容盡情歡樂的樣子。", sentence1: "豐年祭時，族人們載歌載舞，慶祝今年的豐收。", sentence2: "晚會上大家載歌載舞，氣氛非常熱鬧歡愉。", scene: "邊唱歌邊跳舞，形容盡情歡樂。" },
            { id: 7, term: "美不勝收", definition: "形容美好的事物太多，無法盡收眼底。", sentence1: "故宮博物院裡的珍寶美不勝收，讓人流連忘返。", sentence2: "春天到了，陽明山上的花海美不勝收，吸引大批遊客。", scene: "美好的事物太多，無法盡收眼底。" },
            { id: 8, term: "國泰民安", definition: "國家太平，人民生活安樂。形容國家治理得很好的景象。", sentence1: "新年廟會上，信眾們虔誠祈求風調雨順、國泰民安。", sentence2: "唯有政治清明，經濟繁榮，才能達到國泰民安的境界。", scene: "國家太平，人民安樂。" },
            { id: 9, term: "聲名大噪", definition: "聲望名氣大為提高，眾人皆知。", sentence1: "他因為這部電影而聲名大噪，成為家喻戶曉的明星。", sentence2: "這家餐廳因為網紅推薦而聲名大噪，排隊人潮不斷。", scene: "名聲突然傳播開來，眾人皆知。" },
            { id: 10, term: "不修邊幅", definition: "形容人不僅在衣著上不講究，連容貌也不加整飾。", sentence1: "藝術家往往不修邊幅，專注於創作而忽略外表。", sentence2: "他雖然不修邊幅，看起來有些邋遢，但談吐卻非常有內涵。", scene: "不講究衣著儀容的整潔。" },
            { id: 11, term: "擅離職守", definition: "未經許可而私自離開工作崗位。", sentence1: "警衛擅離職守導致竊賊入侵，必須受到嚴厲處分。", sentence2: "在軍中，擅離職守是相當嚴重的違紀行為。", scene: "私自離開原本負責的工作崗位。" },
            { id: 12, term: "如坐針氈", definition: "像坐在插著針的氈子上。比喻心神不寧，片刻難安。", sentence1: "謊言被揭穿後，他感到如坐針氈，十分尷尬。", sentence2: "等待放榜的過程讓人如坐針氈，焦慮不已。", scene: "心神不寧，像坐在插滿針的氈子上。" },
            { id: 13, term: "夙夜匪懈", definition: "從早到晚都不懈怠。形容日夜勤奮工作。", sentence1: "為了完成這項艱鉅的任務，他夙夜匪懈地工作。", sentence2: "感謝救難人員夙夜匪懈的搜救，終於找到了失蹤者。", scene: "日夜勤奮工作，從不懈怠。" },
            { id: 14, term: "弄巧成拙", definition: "本想取巧把事情辦好，結果反而把事情搞壞了。", sentence1: "他本想給朋友一個驚喜，沒想到弄巧成拙，反而嚇壞了對方。", sentence2: "處理事情要按部就班，切得投機取巧，以免弄巧成拙。", scene: "本想取巧，反而把事情辦壞了。" },
            { id: 15, term: "語無倫次", definition: "說話顛三倒四，沒有條理層次。", sentence1: "他緊張得語無倫次，大家都聽不懂他在說什麼。", sentence2: "酒醉的他語無倫次地大吼大叫，引來路人側目。", scene: "說話顛三倒四，沒有條理。" },
            { id: 16, term: "愛不釋手", definition: "喜愛得捨不得放手。形容對某樣東西極為喜愛。", sentence1: "這本小說寫得太精彩了，讓我愛不釋手，通宵讀完。", sentence2: "爺爺送給我的這枝鋼筆，做工精緻，讓我愛不釋手。", scene: "喜愛得捨不得放手。" },
            { id: 17, term: "傾盆大雨", definition: "形容雨大得像盆裡的水直接倒下來一樣。", sentence1: "突然下起傾盆大雨，路上的行人紛紛走避。", sentence2: "雖然外面下著傾盆大雨，依然澆不熄球迷的熱情。", scene: "雨勢極大，像盆裡的水倒下來。" },
            { id: 18, term: "草木凋零", definition: "形容草木枯萎，呈現衰敗、淒涼的景象。", sentence1: "深秋時節，草木凋零，給人一種蕭瑟的感覺。", sentence2: "戰亂過後，家園殘破，草木凋零，令人不勝唏噓。", scene: "草木枯黃凋謝，比喻衰敗。" },
            { id: 19, term: "精雕細琢", definition: "精心地雕刻琢磨。形容創作藝術品時的細緻與用心。", sentence1: "這件玉器經過師傅精雕細琢，價值連城。", sentence2: "好文章需要經過反覆修改、精雕細琢才能完成。", scene: "精心地雕刻琢磨，形容藝術品精緻。" },
            { id: 20, term: "心驚膽顫", definition: "形容非常害怕恐懼，心理和生理都受到震動。", sentence1: "走在懸崖邊的小路上，讓人感到心驚膽顫。", sentence2: "昨晚的恐怖電影讓他心驚膽顫，整晚睡不著覺。", scene: "形容非常害怕恐懼。" },
            { id: 21, term: "三陽開泰", definition: "稱頌新年的吉祥語。意指冬去春來，陰消陽長，萬物復甦。", sentence1: "新春佳節，祝您三陽開泰，萬事如意。", sentence2: "門口貼著「三陽開泰」的春聯，增添了不少喜氣。", scene: "祝賀新春的吉祥話，象徵好運。" },
            { id: 22, term: "四季如春", definition: "形容氣候良好，一整年都像春天一樣溫暖。", sentence1: "昆明氣候溫和，四季如春，素有「春城」之稱。", sentence2: "這裡的環境優美，四季如春，非常適合居住。", scene: "氣候溫和，整年都像春天一樣。" },
            { id: 23, term: "才高八斗", definition: "比喻人極有才華，文才極高。（典故源自謝靈運稱讚曹植）。", sentence1: "曹植才高八斗，七步成詩，令人佩服。", sentence2: "他雖然才高八斗，但待人卻非常謙虛。", scene: "形容人文才極高。" },
            { id: 24, term: "別樹一幟", definition: "比喻另創一種風格、主張，自成一家。", sentence1: "他的畫風別樹一幟，在當代藝術界獨具特色。", sentence2: "這家餐廳的裝潢風格別樹一幟，吸引了許多顧客。", scene: "另創風格，與眾不同。" },
            { id: 25, term: "一目十行", definition: "形容閱讀速度極快。", sentence1: "他看書的速度極快，簡直是一目十行。", sentence2: "為了應付繁重的課業，他練就了一目十行的閱讀本領。", scene: "看書速度極快，非常聰明。" },
            { id: 26, term: "三教九流", definition: "原指各種學術流派。後亦用於指社會上各種行業或各色人物，多含貶義。", sentence1: "這條街上聚集了三教九流的人物，環境比較複雜。", sentence2: "他交遊廣闊，三教九流的朋友都有。", scene: "指社會上各種行業或各色人物。" },
            { id: 27, term: "六神無主", definition: "形容心神慌亂，拿不定主意。", sentence1: "聽到這個噩耗，他頓時六神無主，不知如何是好。", sentence2: "遇到緊急情況要保持冷靜，千萬不要六神無主。", scene: "心慌意亂，拿不定主意。" },
            { id: 28, term: "不二法門", definition: "指唯一的方法或途徑。", sentence1: "勤奮是通往成功的不二法門。", sentence2: "誠實是贏得他人信任的不二法門。", scene: "唯一的途徑或方法。" },
            { id: 29, term: "郭公夏五", definition: "比喻文字脫漏。（源自《春秋》經文脫漏）。", sentence1: "這本古籍年代久遠，多有郭公夏五之處，考證不易。", sentence2: "閱讀校對不精的書籍，常會遇到郭公夏五的情況。", scene: "指文字有脫漏或錯誤。" },
            { id: 30, term: "焚琴煮鶴", definition: "把琴當柴燒，把鶴煮了吃。比喻極殺風景、糟蹋美好事物的行為。", sentence1: "在如此美景下大談煞風景的公事，簡直是焚琴煮鶴。", sentence2: "將珍貴的古董隨意丟棄，這種行為無異於焚琴煮鶴。", scene: "做煞風景的事，糟蹋美好事物。" },
            { id: 31, term: "鴉雀無聲", definition: "形容非常寂靜，連烏鴉麻雀的聲音都沒有。", sentence1: "老師一走進教室，原本吵鬧的同學們立刻鴉雀無聲。", sentence2: "整個會場鴉雀無聲，大家都在屏息等待結果揭曉。", scene: "非常寂靜，沒有一點聲音。" },
            { id: 32, term: "鸞鳳和鳴", definition: "比喻夫妻感情和諧。", sentence1: "祝這對新人鸞鳳和鳴，白頭偕老。", sentence2: "他們結婚多年，依然鸞鳳和鳴，令人羨慕。", scene: "比喻夫妻感情和諧美滿。" },
            { id: 33, term: "鳥盡弓藏", definition: "飛鳥射盡了，良弓就被收藏起來。比喻事成之後，有功之人被遺棄。", sentence1: "歷史上許多功臣在天下平定後，都難逃鳥盡弓藏的命運。", sentence2: "老闆在公司賺錢後就解雇資深員工，真是鳥盡弓藏。", scene: "事情成功後，把出力的人拋棄。" },
            { id: 34, term: "雞犬不寧", definition: "連雞狗都不得安寧。比喻被嚴重騷擾。", sentence1: "他們家天天吵架，鬧得鄰居雞犬不寧。", sentence2: "為了找這隻走失的貓，全家人忙得雞犬不寧。", scene: "騷擾得很厲害，連雞狗都不得安寧。" },
            { id: 35, term: "沉魚落雁", definition: "形容女子容貌極美，魚見之沉入水底，雁見之降落沙洲。", sentence1: "她有著沉魚落雁之容，在選美比賽中奪得冠軍。", sentence2: "古代四大美女都有沉魚落雁、閉月羞花的美貌。", scene: "形容女子容貌極美。" },
            { id: 36, term: "閉月羞花", definition: "形容女子容貌極美，月亮躲在雲後，花兒感到羞愧。", sentence1: "傳說楊貴妃有閉月羞花之貌，深得唐玄宗寵愛。", sentence2: "即使沒有閉月羞花的容貌，內在的氣質更為重要。", scene: "形容女子容貌極美，花月都自嘆不如。" },
            { id: 37, term: "鐵樹開花", definition: "鐵樹很難開花。比喻極不可能或非常難得的事。", sentence1: "要那個守財奴請客，簡直比鐵樹開花還難。", sentence2: "這件陳年冤案終於昭雪，真是鐵樹開花般的奇蹟。", scene: "比喻事情非常罕見或極難實現。" },
            { id: 38, term: "雞鳴狗盜", definition: "比喻有某種卑下技能的人，或指卑微的技能。", sentence1: "只要能解決問題，即使是雞鳴狗盜之術也未必無用。", sentence2: "孟嘗君門下食客三千，其中不乏雞鳴狗盜之徒。", scene: "比喻微不足道的技能或卑劣行徑。" },
            { id: 39, term: "開卷有益", definition: "打開書本閱讀，就會有所得益。", sentence1: "老師常勉勵我們開卷有益，要多閱讀課外讀物。", sentence2: "閒暇時讀幾頁好書，開卷有益，能增長見聞。", scene: "打開書本閱讀，就會有收穫。" },
            { id: 40, term: "兩腳書櫥", definition: "比喻死讀書，不知活用的人。", sentence1: "讀書要靈活運用，千萬別讀成兩腳書櫥。", sentence2: "他雖然博覽群書，但缺乏實務經驗，充其量只是個兩腳書櫥。", scene: "比喻死讀書卻不會應用的人。" },
            { id: 41, term: "洛陽紙貴", definition: "比喻著作風行一時，流傳甚廣。（典故源自左思《三都賦》）。", sentence1: "這本新書一上市就造成轟動，洛陽紙貴，一書難求。", sentence2: "他的文章一經發表，立刻洛陽紙貴，傳誦一時。", scene: "形容著作風行一時，流傳甚廣。" },
            { id: 42, term: "筆下超生", definition: "請求寫作判決書或文章的人手下留情，給予生路。", sentence1: "他在文章中懇求法官筆下超生，給被告一個改過自新的機會。", sentence2: "對於別人的過錯，我們應得饒人處且饒人，盡量筆下超生。", scene: "請求寫作時手下留情或修改文詞。" },
            { id: 43, term: "別風淮雨", definition: "借指文章中錯字連篇，以訛傳訛。（源自「列風淫雨」之誤寫）。", sentence1: "這篇文章錯字連篇，簡直是別風淮雨，讓人難以卒讀。", sentence2: "出版書籍應嚴格校對，以免出現別風淮雨的笑話。", scene: "指文字記載錯誤或傳聞失實。" },
            { id: 44, term: "雨後春筍", definition: "比喻事物在某一時期後大量湧現，迅速發展。", sentence1: "網路商店如雨後春筍般紛紛成立。", sentence2: "改革開放後，高樓大廈如雨後春筍般拔地而起。", scene: "比喻事物在適當條件下大量湧現。" },
            { id: 45, term: "春風化雨", definition: "比喻師長和藹親切的教導。", sentence1: "在老師的春風化雨下，許多頑皮的學生都改邪歸正了。", sentence2: "感謝母校師長的春風化雨，培育了無數優秀人才。", scene: "比喻師長和藹親切的教導。" },
            { id: 46, term: "櫛風沐雨", definition: "以風梳髮，以雨沐浴。比喻在外奔走，極為辛勞。", sentence1: "建築工人們櫛風沐雨，為城市的建設貢獻良多。", sentence2: "地質學家長年櫛風沐雨，在野外進行勘查工作。", scene: "形容奔波勞碌，不避風雨。" },
            { id: 47, term: "滄海一粟", definition: "大海中的一粒粟米。比喻渺小，微不足道。", sentence1: "個人的力量在群體中顯得滄海一粟，微不足道。", sentence2: "人類在浩瀚宇宙中，不過是滄海一粟罷了。", scene: "比喻渺小而微不足道。" },
            { id: 48, term: "風雨同舟", definition: "在風雨中同坐一條船。比喻共同經歷患難。", sentence1: "夫妻之間應該風雨同舟，互相扶持。", sentence2: "面對經濟危機，全體員工決定與公司風雨同舟，共度難關。", scene: "比喻共同經歷患難。" },
            { id: 49, term: "風餐雨宿", definition: "形容旅途或野外生活的艱辛。", sentence1: "探險隊風餐雨宿，終於抵達了目的地。", sentence2: "他為了尋找失散的親人，風餐雨宿，走遍了大江南北。", scene: "形容旅途或野外生活的艱苦。" },
            { id: 50, term: "風雨對床", definition: "比喻兄弟或親友團聚重逢，傾心交談之情。", sentence1: "多年不見的老友終於重逢，今晚我們可以風雨對床，暢談往事。", sentence2: "他們兄弟感情深厚，常期盼能有風雨對床共話家常的日子。", scene: "指兄弟或親友重逢，共處一室。" },
            { id: 51, term: "無的放矢", definition: "射箭沒有目標。比喻說話或做事沒有明確對象或目標，漫無目的。", sentence1: "批評別人要有根據，不可無的放矢，隨意汙衊。", sentence2: "他的發言純屬無的放矢，大家聽聽就好，不必太在意。", scene: "比喻言語行動沒有目標，胡亂攻擊。" },
            { id: 52, term: "長夜漫漫", definition: "形容黑夜漫長，無止盡。也比喻時間漫長難熬。", sentence1: "長夜漫漫，孤枕難眠，心中充滿了對故鄉的思念。", sentence2: "等待救援的過程長夜漫漫，每一秒都是煎熬。", scene: "漫長的黑夜，比喻日子難熬。" },
            { id: 53, term: "張燈結綵", definition: "掛上燈籠，繫上彩球。形容節日或喜慶的景象。", sentence1: "元宵節時，大街小巷張燈結綵，喜氣洋洋。", sentence2: "為了慶祝國慶，到處張燈結綵，熱鬧非凡。", scene: "掛上燈籠與彩帶，形容喜慶景象。" },
            { id: 54, term: "興高采烈", definition: "形容興致高昂，情緒熱烈。", sentence1: "孩子們興高采烈地討論著明天的校外教學。", sentence2: "聽到好消息，大家都興高采烈地歡呼起來。", scene: "形容興致勃勃，情緒熱烈。" },
            { id: 55, term: "五彩繽紛", definition: "形容色彩繁多，鮮豔奪目。", sentence1: "花園裡開滿了五彩繽紛的花朵，十分美麗。", sentence2: "節日的夜空被五彩繽紛的煙火點綴得燦爛奪目。", scene: "顏色繁多，色彩豔麗。" },
            { id: 56, term: "人聲鼎沸", definition: "形容人聲嘈雜，像水在鼎裡煮沸一樣。", sentence1: "夜市裡人聲鼎沸，充滿了各種叫賣聲和歡笑聲。", sentence2: "球賽即將開始，體育館內人聲鼎沸，氣氛熱烈。", scene: "形容人聚集眾多，喧嘩熱鬧。" },
            { id: 57, term: "神清氣爽", definition: "神志清明，氣質爽朗。形容人精神舒暢。", sentence1: "走在森林步道上，呼吸著新鮮空氣，讓人感到神清氣爽。", sentence2: "睡了一場好覺，醒來後覺得神清氣爽，充滿活力。", scene: "神志清醒，氣息舒暢。" },
            { id: 58, term: "千里迢迢", definition: "形容路途遙遠。", sentence1: "他千里迢迢從國外趕回來，就是為了參加妹妹的婚禮。", sentence2: "這份禮物是他千里迢迢帶回來的，情意深重。", scene: "形容路途遙遠。" },
            { id: 59, term: "仗義疏財", definition: "看重義理，輕視財物，願意出錢幫助別人。", sentence1: "他為人豪爽，常仗義疏財，濟助貧苦。", sentence2: "水滸傳中的宋江以仗義疏財聞名江湖。", scene: "講義氣，輕視錢財，樂於助人。" },
            { id: 60, term: "無所適從", definition: "不知聽誰的才好，或不知怎麼辦才好。形容徬徨無主。", sentence1: "眾說紛紜，讓他感到無所適從，不知該如何決定。", sentence2: "政策朝令夕改，讓民眾無所適從，怨聲載道。", scene: "不知該聽誰的或該怎麼做。" },
            { id: 61, term: "惜金如命", definition: "愛惜金錢如同生命。形容人極度吝嗇。", sentence1: "他雖然富有，卻惜金如命，連一塊錢也捨不得花。", sentence2: "與其惜金如命做個守財奴，不如多做善事回饋社會。", scene: "極度吝嗇，視錢財如生命。" },
            { id: 62, term: "翹足引領", definition: "抬起腳跟，伸長脖子。形容盼望得非常殷切。", sentence1: "災區民眾翹足引領，期盼救援物資早日送達。", sentence2: "粉絲們翹足引領，等待偶像出場。", scene: "形容盼望得非常殷切。" },
            { id: 63, term: "望穿秋水", definition: "形容盼望得非常急切。", sentence1: "母親每日在門口望穿秋水，盼望遊子歸來。", sentence2: "他望穿秋水，終於等到了錄取通知書。", scene: "形容盼望之情非常深切。" },
            { id: 64, term: "延頸企踵", definition: "伸長脖子，踮起腳跟。形容盼望殷切。", sentence1: "大家延頸企踵，希望能一睹這位諾貝爾獎得主的風采。", sentence2: "對於新政策的實施，民眾莫不延頸企踵，充滿期待。", scene: "伸長脖子踮起腳跟，形容熱切盼望。" },
            { id: 65, term: "不虞匱乏", definition: "不憂愁缺乏。形容物資豐富。", sentence1: "台灣物產豐富，糧食供應不虞匱乏。", sentence2: "只要做好儲蓄規劃，退休生活便能不虞匱乏。", scene: "不憂慮缺乏物資。" },
            { id: 66, term: "憂心如焚", definition: "心裡焦急得像火在燒一樣。形容非常憂慮。", sentence1: "兒子失蹤多日，母親憂心如焚，四處尋找。", sentence2: "看到災情擴大，救援進度緩慢，讓人憂心如焚。", scene: "焦慮得像心被火燒一樣。" },
            { id: 67, term: "井然有序", definition: "形容條理分明，整齊不亂。", sentence1: "圖書館的書籍排列得井然有序，方便讀者查找。", sentence2: "雖然參觀人潮眾多，但在工作人員引導下，隊伍井然有序。", scene: "條理分明，秩序整齊。" },
            { id: 68, term: "春風雨露", definition: "比喻君恩普施於下，或長輩的恩澤。", sentence1: "感謝師長的春風雨露，讓我們能茁壯成長。", sentence2: "父母的養育之恩如春風雨露，子女應銘記在心。", scene: "比喻皇恩或長輩的恩澤。" },
            { id: 69, term: "難望項背", definition: "比喻程度相差太遠，趕不及、比不上。", sentence1: "他的學識淵博，讓我感到難望項背。", sentence2: "這位選手的實力超群，其他參賽者都難望項背。", scene: "落後太多，追趕不上。" },
            { id: 70, term: "亭亭玉立", definition: "形容女子身材修長苗條，體態優美。", sentence1: "她身穿禮服，亭亭玉立，成為全場注目的焦點。", sentence2: "幾年不見，鄰家小女孩已經長得亭亭玉立了。", scene: "形容女子身材修長美麗。" },
            { id: 71, term: "白手起家", definition: "形容在沒有基礎和條件的情況下，靠自己的雙手建立起家業。", sentence1: "他從擺地攤開始，白手起家，如今已是知名企業家。", sentence2: "許多成功的創業者都是白手起家，歷經艱辛才獲得成就。", scene: "沒有基礎，靠自己努力創立家業。" },
            { id: 72, term: "遮風蔽雨", definition: "遮擋風雨。形容有可以棲身的地方，或受到保護。", sentence1: "這間破舊的小屋雖然簡陋，但還能為我們遮風蔽雨。", sentence2: "父母就像大樹一樣，為子女遮風蔽雨，擋去外界的傷害。", scene: "遮擋風雨，比喻保護照顧。" },
            { id: 73, term: "不知所措", definition: "形容驚慌失措，不知道該怎麼辦才好。", sentence1: "突然接到這個消息，他一時不知所措，愣在原地。", sentence2: "面對突如其來的意外，大家面面相覷，不知所措。", scene: "慌亂得不知道該怎麼辦。" },
            { id: 74, term: "闔第光臨", definition: "敬詞。邀請客人全家一起來。", sentence1: "這次的婚宴，誠摯邀請您闔第光臨，共襄盛舉。", sentence2: "為了慶祝新居落成，特設薄宴，請闔第光臨指教。", scene: "邀請全家人都來參加。" },
            { id: 75, term: "謹言慎行", definition: "指言行舉止小心謹慎。", sentence1: "身為公眾人物，必須謹言慎行，以免造成負面影響。", sentence2: "老師教導我們要謹言慎行，不要隨意評論他人。", scene: "言語行動都謹慎小心。" },
            { id: 76, term: "潛移默化", definition: "指人的思想或性格不知不覺中受到感染、影響而發生變化。", sentence1: "父母的言行舉止對孩子有潛移默化的影響，不可不慎。", sentence2: "閱讀好書能潛移默化地提升一個人的氣質與修養。", scene: "不知不覺中受到影響而改變。" },
            { id: 77, term: "借花獻佛", definition: "比喻拿別人的東西做人情。", sentence1: "這些水果是朋友送的，我就借花獻佛，轉送給你吧。", sentence2: "我只是借花獻佛，把大家的心意轉達給老師。", scene: "借用別人的東西來做人情。" },
            { id: 78, term: "扣人心弦", definition: "形容事物（多指文藝作品）激動人心。", sentence1: "這部電影的結局扣人心弦，讓觀眾感動落淚。", sentence2: "他的演講內容豐富，情感真摯，十分扣人心弦。", scene: "形容事物激動人心。" },
            { id: 79, term: "先聲奪人", definition: "比喻在與對方交鋒以前，先張揚自己的聲勢以壓倒對方。", sentence1: "比賽還沒開始，我們就以嘹亮的口號先聲奪人，震懾對手。", sentence2: "辯論時，他以犀利的言辭先聲奪人，取得了優勢。", scene: "先張揚聲勢以壓倒對方。" },
            { id: 80, term: "孤注一擲", definition: "比喻危急時投入全部力量，作最後的冒險。", sentence1: "到了緊要關頭，他決定孤注一擲，把所有籌碼都押上去。", sentence2: "這種孤注一擲的做法風險太大，一旦失敗就無法挽回。", scene: "傾盡所有，冒險做最後一次嘗試。" },
            { id: 81, term: "迫不及待", definition: "急迫得不能等待。形容心情急切。", sentence1: "一聽到放學鐘聲，同學們就迫不及待地衝出教室。", sentence2: "看到剛出爐的蛋糕，弟弟迫不及待地想嚐一口。", scene: "急迫得不能再等待。" },
            { id: 82, term: "有恃無恐", definition: "因為有倚仗而毫不害怕（多含貶義）。", sentence1: "他仗著家裡有錢，就有恃無恐地欺負同學。", sentence2: "這些歹徒有恃無恐，公然在街上行搶，行徑囂張。", scene: "有倚仗而毫無顧忌。" },
            { id: 83, term: "列風淫雨", definition: "形容狂風暴雨。", sentence1: "颱風來襲，窗外列風淫雨，景象駭人。", sentence2: "登山時遇到列風淫雨，要特別注意安全。", scene: "形容狂風暴雨。" },
            { id: 84, term: "以訛傳訛", definition: "指把本來就不正確的話又錯誤地傳出去，越傳越錯。", sentence1: "這件事純屬謠言，大家不要以訛傳訛，以免造成恐慌。", sentence2: "網路上的訊息真假難辨，未經查證不可以訛傳訛。", scene: "把不實的傳聞繼續傳播下去。" },
            { id: 85, term: "近水樓臺", definition: "水邊的樓臺先得到月光。比喻由於接近某些人或事物而搶先得到利益。", sentence1: "他利用職務之便，近水樓臺先得月，撈了不少好處。", sentence2: "因為住在圖書館隔壁，我近水樓臺，借書非常方便。", scene: "比喻處於便利的地位，易獲利益。" },
            { id: 86, term: "汲汲營營", definition: "形容人急切地奔走鑽營，追求名利。", sentence1: "他一生汲汲營營於名利，卻忽略了身邊的親情。", sentence2: "與其汲汲營營地追求財富，不如追求心靈的平靜。", scene: "形容人急切地奔走鑽營。" },
            { id: 87, term: "垂涎三尺", definition: "形容非常嘴饞、想吃。也比喻極想據為己有。", sentence1: "看到滿桌的佳餚，讓人忍不住垂涎三尺。", sentence2: "對於那筆鉅額遺產，許多親戚都垂涎三尺，想分一杯羹。", scene: "形容極其貪婪或嘴饞。" },
            { id: 88, term: "夢寐以求", definition: "睡夢中都在追求。形容迫切地希望著。", sentence1: "進入這所頂尖大學，是他夢寐以求的目標。", sentence2: "這輛跑車是他夢寐以求的禮物，終於如願以償。", scene: "睡夢中都在追求，形容迫切祈求。" },
            { id: 89, term: "如假包換", definition: "如果是假貨，願意賠換。強調貨真價實。", sentence1: "這家店賣的玉鐲保證是如假包換的A貨。", sentence2: "我可是如假包換的台灣人，土生土長。", scene: "絕對是真的，假的話願包換。" },
            { id: 90, term: "不見天日", definition: "比喻社會黑暗，見不到光明。也形容封閉環境，見不到陽光。", sentence1: "礦工們在不見天日的地底工作，十分辛苦。", sentence2: "被關在這座不見天日的牢房裡，他感到絕望。", scene: "看不到陽光，形容環境黑暗或政治腐敗。" },
            { id: 91, term: "瞵視昂藏", definition: "形容目光炯炯有神，氣宇軒昂。（多形容鳥類，如鷹）。", sentence1: "這隻老鷹停在樹梢，瞵視昂藏，展現出王者的風範。", sentence2: "他雖然年紀大了，但依然瞵視昂藏，精神矍鑠。", scene: "形容左顧右盼，神采飛揚的樣子。" },
            { id: 92, term: "醍醐灌頂", definition: "比喻灌輸智慧，使人徹底醒悟。也形容清涼舒適。", sentence1: "聽了法師的一席話，如醍醐灌頂，讓我茅塞頓開。", sentence2: "炎炎夏日喝下一杯冰水，真是醍醐灌頂，舒暢無比。", scene: "比喻灌輸智慧，使人澈底覺悟。" },
            { id: 93, term: "俯仰無愧", definition: "低頭抬頭都不感到慚愧。形容光明正大。", sentence1: "做人要坦蕩蕩，俯仰無愧於天地。", sentence2: "只要行得正、坐得端，自然能俯仰無愧。", scene: "行事光明正大，問心無愧。" },
            { id: 94, term: "接二連三", definition: "一個接著一個，接連不斷。", sentence1: "壞消息接二連三地傳來，讓大家心情沉重。", sentence2: "最近喜事接二連三，家裡充滿了歡笑聲。", scene: "一個接著一個，連續不斷。" },
            { id: 95, term: "無中生有", definition: "本指道家哲學。後比喻憑空捏造，毫無根據。", sentence1: "這些謠言純屬無中生有，你千萬別相信。", sentence2: "魔術師無中生有地變出一隻鴿子，讓觀眾驚呼連連。", scene: "憑空捏造，毫無根據。" },
            { id: 96, term: "變化莫測", definition: "變化多端，難以預測。", sentence1: "山區的氣候變化莫測，登山前要做好準備。", sentence2: "人心變化莫測，很難完全猜透別人的想法。", scene: "變化多端，難以預測。" },
            { id: 97, term: "不勝唏噓", definition: "無限感慨、嘆息。", sentence1: "看到昔日的豪宅如今已成廢墟，令人不勝唏噓。", sentence2: "聽到他英年早逝的消息，朋友們都感到不勝唏噓。", scene: "無限感慨嘆息。" },
            { id: 98, term: "怨天尤人", definition: "埋怨上天，怪罪別人。形容遇到挫折時，不檢討自己，只是一味責怪客觀條件。", sentence1: "失敗了要檢討自己，不要只會怨天尤人。", sentence2: "遇到困難與其怨天尤人，不如想辦法解決問題。", scene: "遇到挫折，只會埋怨天怪罪人。" },
            { id: 99, term: "悔不當初", definition: "後悔當初不該這麼做。", sentence1: "他因為一時衝動而犯下大錯，現在悔不當初也來不及了。", sentence2: "早知如此，何必悔不當初？做事之前應該三思。", scene: "後悔以前不該這麼做。" },
            { id: 100, term: "人生如寄", definition: "比喻人生短暫，像暫時寄居在世間一樣。", sentence1: "人生如寄，多憂何為？不如及時行樂。", sentence2: "感嘆人生如寄，我們更應珍惜當下的每一刻。", scene: "人生短暫，如寄居於世。" },
            { id: 101, term: "笑傲江湖", definition: "形容在江湖中逍遙自在，不被世俗羈絆。", sentence1: "他退休後過著笑傲江湖、閒雲野鶴的生活。", sentence2: "只有心胸開闊的人，才能真正做到笑傲江湖。", scene: "縱情山水，不理會世俗牽絆。" },
            { id: 102, term: "名副其實", definition: "名聲或名稱與實際相符合。", sentence1: "這家餐廳的料理美味，果然名副其實。", sentence2: "他是位名副其實的慈善家，一生致力於公益。", scene: "名聲與實際相符合。" },
            { id: 103, term: "移花接木", definition: "比喻暗中使用手段，更換人或事物來欺騙他人。", sentence1: "騙徒用移花接木的手法，將假貨掉包成真貨。", sentence2: "寫文章不可隨意剪貼，以免有移花接木抄襲之嫌。", scene: "比喻暗中使用手段更換人或事物。" },
            { id: 104, term: "開闔自如", definition: "形容可以隨意撐開或閉合。也比喻能屈能伸，應對自如。", sentence1: "這把傘設計精巧，開闔自如，使用非常方便。", sentence2: "一個優秀的外交官在談判桌上應能開闔自如，掌控大局。", scene: "打開關閉隨心所欲，形容指揮若定。" },
            { id: 105, term: "不堪一擊", definition: "經不起一次打擊。形容力量薄弱。", sentence1: "敵軍士氣低落，防線不堪一擊，我軍勢如破竹。", sentence2: "這種豆腐渣工程不堪一擊，稍微震動就垮了。", scene: "力量薄弱，經不起一次打擊。" },
            { id: 106, term: "頂禮膜拜", definition: "佛教徒最高的敬禮。形容對神佛或人的極度崇敬。", sentence1: "信徒們在佛像前頂禮膜拜，祈求平安。", sentence2: "粉絲們對偶像的崇拜簡直到了頂禮膜拜的程度。", scene: "極度崇拜，恭敬地跪拜。" },
            { id: 107, term: "無理取鬧", definition: "毫無理由地吵鬧、搗亂。", sentence1: "你不要在這裡無理取鬧，影響大家工作。", sentence2: "對付無理取鬧的人，最好的辦法就是相應不理。", scene: "沒道理卻故意吵鬧。" },
            { id: 108, term: "惻隱之心", definition: "見到別人遭受痛苦或災難，而產生同情不忍的心。", sentence1: "惻隱之心，人皆有之，看到流浪動物受苦，誰能不動容？", sentence2: "他雖然外表冷酷，但內心卻充滿了惻隱之心。", scene: "同情別人的遭遇，不忍人之心。" },
            { id: 109, term: "非分之想", definition: "超出本分的念頭或企圖。（試卷中作「非分希冀」）。", sentence1: "不要對別人的財產有非分之想，那是違法的。", sentence2: "他對經理的位置早有非分之想，一直在暗中運作。", scene: "妄想得到本分以外的好處。" },
            { id: 110, term: "一語道破", definition: "一句話就說穿了事情的真相或關鍵。", sentence1: "老師一語道破了我心中的困惑，讓我豁然開朗。", sentence2: "偵探一語道破嫌犯的謊言，讓案情真相大白。", scene: "一句話就說穿了事情的真相。" },
            { id: 111, term: "三思而行", definition: "反覆考慮後再做。（試卷中作「三思而後言」）。", sentence1: "凡事要三思而行，衝動行事往往會後悔莫及。", sentence2: "說話前要三思而行，以免傷人而不自知。", scene: "反覆思考後再行動。" },
            { id: 112, term: "正襟危坐", definition: "整理服裝儀容，端正地坐著。形容嚴肅或拘謹的樣子。", sentence1: "面試時，求職者們個個正襟危坐，神情緊張。", sentence2: "學生們在校長面前正襟危坐，不敢造次。", scene: "整理服裝，端正地坐著。" },
            { id: 113, term: "西裝革履", definition: "身穿西裝，腳穿皮鞋。形容衣著入時、考究。", sentence1: "他今天西裝革履地出席宴會，顯得風度翩翩。", sentence2: "商務會議上，與會者大多是西裝革履的菁英。", scene: "穿著西裝皮鞋，形容打扮正式。" },
            { id: 114, term: "一針見血", definition: "比喻說話直截了當，切中要害。", sentence1: "他的評論一針見血，指出了問題的核心。", sentence2: "老師一針見血地指出了我作文中的缺點。", scene: "說話直截了當，切中要害。" },
            { id: 115, term: "感同身受", definition: "雖未親身經歷，卻如同親身承受一樣。形容同情或感受深刻。", sentence1: "對於災民的痛苦，我們雖未親歷，但也感同身受。", sentence2: "朋友遭遇不幸，我感同身受，心情十分沉重。", scene: "雖未親歷，卻像親身感受一樣。" },
            { id: 116, term: "驀然回首", definition: "忽然回頭。常用於比喻突然覺悟或發現。", sentence1: "驀然回首，那人卻在燈火闌珊處。", sentence2: "驀然回首，才發現父母已經蒼老了許多。", scene: "忽然回頭看。" },
            { id: 117, term: "騷人墨客", definition: "指詩人、文人。", sentence1: "古代許多騷人墨客喜愛在西湖畔吟詩作對。", sentence2: "這裡風景優美，吸引了無數騷人墨客前來題詠。", scene: "指詩人、作家等風雅的文人。" },
            { id: 118, term: "隱惡揚善", definition: "隱藏別人的壞處，宣揚別人的好處。", sentence1: "待人處事應多隱惡揚善，不要總是揭人瘡疤。", sentence2: "這種隱惡揚善的厚道作風，值得我們學習。", scene: "隱藏別人的壞處，宣揚別人的好處。" },
            { id: 119, term: "七嘴八舌", definition: "形容人多口雜，議論紛紛。", sentence1: "大家七嘴八舌地討論著旅遊的地點，意見分歧。", sentence2: "意外發生後，圍觀群眾七嘴八舌地猜測原因。", scene: "人多嘴雜，議論紛紛。" },
            { id: 120, term: "進退兩難", definition: "前進和後退都困難。形容處境尷尬或窘迫。", sentence1: "夾在婆媳之間，他感到進退兩難，左右為難。", sentence2: "前有斷崖，後有追兵，這支軍隊陷入了進退兩難的絕境。", scene: "前進後退都困難，處境困窘。" },
            { id: 121, term: "深思熟慮", definition: "反覆深入地思考。", sentence1: "這個決定經過大家深思熟慮，應該不會有錯。", sentence2: "做重大決策前，必須經過深思熟慮，不可草率。", scene: "深入細緻地思考。" },
            { id: 122, term: "動輒得咎", definition: "動不動就受到責備或處分。形容處境艱難。", sentence1: "在這種高壓環境下工作，稍有不慎就動輒得咎。", sentence2: "他個性直率，在官場上往往動輒得咎。", scene: "動不動就受到責備或處罰。" },
            { id: 123, term: "好景難留", definition: "美好的景緻或時光難以長久保留。", sentence1: "感嘆好景難留，我們更應珍惜眼前的幸福。", sentence2: "歡樂的時光總是短暫，好景難留，轉眼就要道別。", scene: "美好的景物或時光難以長久保留。" },
            { id: 124, term: "良辰易逝", definition: "美好的時光容易流逝。", sentence1: "良辰易逝，我們要把握青春，努力奮鬥。", sentence2: "相聚的歡樂總是短暫，良辰易逝，令人依依不捨。", scene: "美好的時光容易流逝。" },
            { id: 125, term: "無入而不自得", definition: "無論處於什麼環境，都能悠然自得。", sentence1: "修養高的人，無論順境逆境，都能無入而不自得。", sentence2: "他隨遇而安，過著無入而不自得的生活。", scene: "無論處於何種環境，都能悠然自得。" },
            { id: 126, term: "功成不居", definition: "建立了功勞而不歸功於自己。", sentence1: "他立下大功卻功成不居，將榮耀歸於團隊。", sentence2: "這種功成不居的謙沖態度，贏得了大家的尊敬。", scene: "建立功勞而不自居。" },
            { id: 127, term: "屹立不搖", definition: "像山峰一樣高聳挺立，不動搖。形容堅定不可動搖。", sentence1: "這座古塔歷經千年風雨，依然屹立不搖。", sentence2: "只要信念堅定，就能在逆境中屹立不搖。", scene: "聳立不動，比喻意志堅定不可動搖。" },
            { id: 128, term: "爭妍鬥豔", definition: "競相展現美麗與豔麗。多形容花木。", sentence1: "春天到了，百花齊放，爭妍鬥豔，美不勝收。", sentence2: "晚會上，女士們穿著華麗的禮服爭妍鬥豔。", scene: "競相展現美麗豔姿。" },
            { id: 129, term: "冰清玉潔", definition: "比喻品行高潔。", sentence1: "她品行端正，冰清玉潔，是大家公認的淑女。", sentence2: "蓮花出淤泥而不染，象徵著冰清玉潔的情操。", scene: "比喻品行高潔。" },
            { id: 130, term: "雪中送炭", definition: "在下雪天給人送炭取暖。比喻在人艱難困苦時給予幫助。", sentence1: "在我最困難的時候，他雪中送炭，借錢給我度過難關。", sentence2: "錦上添花易，雪中送炭難，真正的朋友在患難中才見真情。", scene: "在人急需時給予幫助。" },
            { id: 131, term: "火傘高張", definition: "比喻烈日當空。火傘，比喻烈日。", sentence1: "夏日炎炎，火傘高張，出門要注意防曬。", sentence2: "在火傘高張的正午耕作，農夫們揮汗如雨。", scene: "形容烈日當空，天氣炎熱。" },
            { id: 132, term: "烈日當空", definition: "炎熱的太陽高掛在天空。", sentence1: "雖然烈日當空，建築工人們依然辛勤地工作。", sentence2: "烈日當空的中午，街道上行人稀少。", scene: "炎熱的太陽高掛天空。" },
            { id: 133, term: "望眼欲穿", definition: "眼睛都要望穿了。形容盼望得非常急切。", sentence1: "母親站在村口，望眼欲穿地盼著遊子歸來。", sentence2: "他每天盯著信箱，望眼欲穿地等待那封回信。", scene: "形容盼望得非常急切。" },
            { id: 134, term: "引領企踵", definition: "伸長脖子，踮起腳跟。形容盼望殷切。（同延頸企踵）。", sentence1: "全國人民引領企踵，期盼新政府能帶來新氣象。", sentence2: "粉絲們引領企踵，等待偶像的演唱會開始。", scene: "伸長脖子踮起腳跟，形容熱切盼望。" },
            { id: 135, term: "浪蝶遊蜂", definition: "比喻態度輕浮好色的男子。", sentence1: "他整天遊手好閒，像個浪蝶遊蜂到處留情。", sentence2: "正經女子多半對這種浪蝶遊蜂敬而遠之。", scene: "比喻行為放蕩、尋花問柳的人。" },
            { id: 136, term: "風雨如晦", definition: "風雨交加，天色昏暗猶如黑夜。比喻處於險惡環境中也不改變其操守。", sentence1: "即使時局動盪，風雨如晦，他依然堅守崗位。", sentence2: "這是個風雨如晦的時代，更需要有良知的知識分子。", scene: "風雨交加，天色昏暗，比喻亂世。" },
            { id: 137, term: "匠心獨具", definition: "形容構思獨創，與眾不同。", sentence1: "這件藝術品設計巧妙，匠心獨具，令人讚嘆。", sentence2: "這棟建築的風格匠心獨具，成為當地的地標。", scene: "形容構思獨特，不同凡響。" },
            { id: 138, term: "口是心非", definition: "嘴巴說的和心裡想的不一樣。", sentence1: "他這個人口是心非，說一套做一套，不可信任。", sentence2: "雖然他嘴上說不介意，其實心裡很在意，真是口是心非。", scene: "嘴上說的和心裡想的不一樣。" },
            { id: 139, term: "春風得意", definition: "形容人考中進士後心情愉悅。後形容人官場順利或事業成功。", sentence1: "他最近升官發財，春風得意，走路都有風。", sentence2: "看他一臉春風得意的樣子，肯定是有什麼好事發生。", scene: "形容如願以償，心情歡暢。" },
            { id: 140, term: "自欺欺人", definition: "欺騙自己，也欺騙別人。", sentence1: "明知不可為而為之，還找理由辯解，這根本是自欺欺人。", sentence2: "不要再自欺欺人了，面對現實才能解決問題。", scene: "欺騙自己也欺騙別人。" },
            { id: 141, term: "恃才傲物", definition: "依仗自己的才華而驕傲自大，目空一切。", sentence1: "他雖然有才華，但恃才傲物，人緣並不好。", sentence2: "歷史上許多恃才傲物的文人，下場往往很淒涼。", scene: "仗著自己有才華而驕傲自大。" },
            { id: 142, term: "心有餘而力不足", definition: "心裡想做，但力量不夠。", sentence1: "我很想幫你，但實在是心有餘而力不足。", sentence2: "對於父母的病痛，他感到心有餘而力不足，十分愧疚。", scene: "心裡想做，但力量不夠。" },
            { id: 143, term: "靜觀其變", definition: "冷靜地觀察事情的變化。", sentence1: "局勢尚未明朗，我們先靜觀其變，再做決定。", sentence2: "遇到突發狀況，不要驚慌，先靜觀其變，尋找對策。", scene: "冷靜觀察事情的變化，再做對策。" },
            { id: 144, term: "別來無恙", definition: "分別以來一直都好嗎？常用作問候語。", sentence1: "老朋友，別來無恙？多年不見，甚是想念。", sentence2: "寫信給久違的親友，開頭常會問候對方別來無恙。", scene: "分別以來一直都很好嗎？" },
            { id: 145, term: "暴跳如雷", definition: "氣得亂跳，像打雷一樣猛烈。形容大發脾氣。", sentence1: "聽到兒子闖了大禍，父親氣得暴跳如雷。", sentence2: "被誤解的他暴跳如雷，大聲為自己辯解。", scene: "氣得亂跳，像打雷一樣。" },
            { id: 146, term: "面面相覷", definition: "互相對看，不知如何是好。形容驚懼或無可奈何。", sentence1: "聽到這個荒謬的要求，大家面面相覷，說不出話來。", sentence2: "發現錢包不見了，他們面面相覷，不知該怎麼辦。", scene: "互相對看，不知如何是好。" },
            { id: 147, term: "眾口交詬", definition: "眾人一致責罵。（試卷中引作「眾口交話」，意指眾口鑠金）。", sentence1: "他做盡壞事，如今落得眾口交詬的下場。", sentence2: "這種傷天害理的行為，必將招致眾口交詬。", scene: "眾人一致指責辱罵。" },
            { id: 148, term: "悠然暢寄", definition: "形容心情悠閒，盡情寄託情懷。", sentence1: "隱居山林，悠然暢寄，是他嚮往的生活。", sentence2: "在書法中悠然暢寄，能讓人忘卻世俗的煩惱。", scene: "形容心情悠閒，寄情於某事。" },
            { id: 149, term: "不恥下問", definition: "不以向地位、學識不如自己的人請教為恥。", sentence1: "做學問要謙虛，不恥下問才能增廣見聞。", sentence2: "孔子提倡不恥下問的學習態度，令人敬佩。", scene: "不以向地位低的人請教為恥。" },
            { id: 150, term: "旁觀者清", definition: "旁觀的人看得比較清楚。", sentence1: "所謂當局者迷，旁觀者清，你需要聽聽別人的意見。", sentence2: "這件事我身在其中，反而看不清局勢，你是旁觀者清，幫我分析一下吧。", scene: "局外人比當事人看事情更清楚。" },
            { id: 151, term: "烏雲密布", definition: "黑雲布滿天空。形容天氣陰霾或氣氛險惡。", sentence1: "天空烏雲密布，眼看就要下大雨了。", sentence2: "公司裁員的消息傳出，辦公室裡氣氛烏雲密布。", scene: "烏雲滿布天空，比喻氣氛險惡。" },
            { id: 152, term: "輕煙裊裊", definition: "形容煙氣繚繞上升的樣子。", sentence1: "寺廟裡香火鼎盛，輕煙裊裊，充滿莊嚴的氣氛。", sentence2: "村舍屋頂輕煙裊裊，展現出一幅寧靜的田園風光。", scene: "形容煙霧繚繞上升的樣子。" },
            { id: 153, term: "美如其名", definition: "事物如同其名字一樣美好。", sentence1: "這位女孩美如其名，氣質出眾。", sentence2: "這座花園美如其名，百花齊放，景色迷人。", scene: "事物的美好正如其名稱一樣。" },
            { id: 154, term: "白髮紅顏", definition: "形容老人精神健旺，氣色好。", sentence1: "爺爺雖然已經八十歲了，但仍白髮紅顏，身體硬朗。", sentence2: "看到老師退休後依然白髮紅顏，學生們都很高興。", scene: "形容老人精神健旺，氣色好。" },
            { id: 155, term: "脣紅齒白", definition: "形容面貌姣好，青春美麗。", sentence1: "照片中的她脣紅齒白，笑得非常燦爛。", sentence2: "那個小男孩長得脣紅齒白，十分惹人喜愛。", scene: "形容人容貌美麗。" },
            { id: 156, term: "無怨無悔", definition: "沒有怨恨，也不後悔。", sentence1: "母親為家庭付出了一輩子，始終無怨無悔。", sentence2: "他為了追求夢想，即使遭遇挫折也無怨無悔。", scene: "沒有怨恨，也不後悔。" },
            { id: 157, term: "風木之思", definition: "比喻父母亡故，不及奉養的悲傷。", sentence1: "父母過世後，他常懷風木之思，感嘆子欲養而親不待。", sentence2: "每逢佳節倍思親，對於失去雙親的人來說，最難熬的便是這風木之思。", scene: "比喻父母亡故，不及孝養的悲傷。" },
            { id: 158, term: "春意盎然", definition: "形容春天生機勃勃的氣象。", sentence1: "公園裡百花盛開，綠草如茵，一片春意盎然。", sentence2: "教室佈置得色彩繽紛，充滿了春意盎然的氣息。", scene: "春天的氣氛濃厚。" },
            { id: 159, term: "金風送爽", definition: "指秋風帶來涼爽的感覺。", sentence1: "金風送爽的季節，最適合去郊外踏青。", sentence2: "炎夏已過，金風送爽，讓人感到格外舒適。", scene: "秋風帶來涼爽舒適的感覺。" },
            { id: 160, term: "朔風野大", definition: "北風猛烈。", sentence1: "寒冬時節，朔風野大，出門要穿暖和一點。", sentence2: "荒漠中朔風野大，飛沙走石，環境十分惡劣。", scene: "形容冬天北風強勁荒涼。" },
            { id: 161, term: "雨過天青", definition: "雨後天放晴。比喻情況由壞轉好。", sentence1: "誤會冰釋後，兩人重修舊好，就像雨過天青一樣。", sentence2: "經過一番波折，事情終於雨過天青，圓滿解決。", scene: "比喻情況由壞轉好。" },
            { id: 162, term: "寧為玉碎，不為瓦全", definition: "比喻寧願為正義犧牲，也不願苟全性命。", sentence1: "烈士們抱著寧為玉碎，不為瓦全的決心，與敵人奮戰到底。", sentence2: "他個性剛烈，遇到不公義的事，寧可寧為玉碎，不為瓦全，絕不妥協。", scene: "寧做犧牲的美玉，不做苟全的瓦片。" },
            { id: 163, term: "萬馬奔騰", definition: "形容聲勢浩大，場面壯觀。", sentence1: "瀑布傾瀉而下，發出萬馬奔騰般的巨響。", sentence2: "股市開盤後，買氣如萬馬奔騰，指數一路飆升。", scene: "形容聲勢浩大壯觀。" },
            { id: 164, term: "芸芸眾生", definition: "指世間眾多的人。", sentence1: "佛法普度芸芸眾生，教導人們離苦得樂。", sentence2: "我們只是芸芸眾生中的一員，應當謙卑自處。", scene: "指世間眾多的生物或人。" },
            { id: 165, term: "虛心容物", definition: "謙虛地接納各種事物或意見。", sentence1: "一個好的領導者必須虛心容物，廣納雅言。", sentence2: "唯有虛心容物，才能不斷學習新知，充實自己。", scene: "心胸開闊，能接納不同的意見。" },
            { id: 166, term: "搦管弄翰", definition: "手持筆墨。指寫作或繪畫。", sentence1: "他從小喜愛搦管弄翰，立志成為一名書法家。", sentence2: "許多文人雅士喜歡聚在一起搦管弄翰，互相切磋。", scene: "指執筆寫作。" },
            { id: 167, term: "黛綠年華", definition: "形容少女青春正盛的年紀。", sentence1: "她正值黛綠年華，充滿了青春活力。", sentence2: "不要虛度黛綠年華，要努力充實自己，為未來打下基礎。", scene: "比喻少女青春美麗的年華。" },
            { id: 168, term: "凹凸有致", definition: "形容身形曲線優美。", sentence1: "她穿著旗袍，身材凹凸有致，顯得格外迷人。", sentence2: "這座山峰凹凸有致，在夕陽下形成美麗的剪影。", scene: "形容曲線玲瓏，錯落有致。" },
            { id: 169, term: "臨風顧盼", definition: "迎著風左顧右盼。形容神采飛揚，得意自滿。", sentence1: "他騎在馬上臨風顧盼，顯得英姿煥發。", sentence2: "考上狀元後，他臨風顧盼，得意洋洋地遊街誇官。", scene: "迎著風回頭觀看，姿態優美。" },
            { id: 170, term: "揮麈清談", definition: "手揮拂塵，高談闊論。形容文人清高的談話。", sentence1: "魏晉時期的名士喜歡聚在一起揮麈清談，探討玄學。", sentence2: "他們在茶館裡揮麈清談，消磨了一個下午。", scene: "手揮拂塵，高雅地談論。" },
            { id: 171, term: "憂心如搗", definition: "憂愁得像在擣心一樣。形容極度憂傷。", sentence1: "聽到家鄉發生地震，他憂心如搗，恨不得立刻飛回去。", sentence2: "兒子久病不癒，母親憂心如搗，日夜祈禱。", scene: "憂愁得像心在被搗撞一樣。" },
            { id: 172, term: "風車雨馬", definition: "形容像風車雨馬般快速、繁忙。", sentence1: "現代都市生活節奏快，大家每天都像風車雨馬般忙碌。", sentence2: "為了趕在期限前完成任務，團隊成員風車雨馬地工作著。", scene: "形容風雨交加，天氣惡劣。" },
            { id: 173, term: "五風十雨", definition: "五天颳一次風，十天下一場雨。形容風調雨順。", sentence1: "今年五風十雨，農作物長得特別好。", sentence2: "祈求上天保佑，讓這裡五風十雨，百姓安居樂業。", scene: "風調雨順，氣候適宜農耕。" },
            { id: 174, term: "風雨時若", definition: "風雨配合得宜。形容氣候良好。", sentence1: "在風雨時若的年份，農夫們臉上都洋溢著笑容。", sentence2: "只要風雨時若，就不怕沒有好收成。", scene: "風雨順時，氣候調和。" },
            { id: 175, term: "紙短情長", definition: "簡短的信紙無法寫完深長的情意。", sentence1: "雖然紙短情長，但我的思念之情是寫不盡的。", sentence2: "這封信紙短情長，寄託了我對你的無限祝福。", scene: "信紙太短，無法寫盡深長的情意。" },
            { id: 176, term: "情溢乎辭", definition: "情感流露於言辭之外。形容情感真摯豐富。", sentence1: "這篇文章情溢乎辭，讓人讀了深受感動。", sentence2: "他的演講情溢乎辭，贏得了全場觀眾的共鳴。", scene: "情感豐富，流露在言辭之外。" },
            { id: 177, term: "萬般無奈", definition: "非常無可奈何。", sentence1: "在萬般無奈之下，他只好選擇離開。", sentence2: "面對這種情況，他感到萬般無奈，卻又無力改變。", scene: "非常無可奈何。" },
            { id: 178, term: "無動於衷", definition: "心裡一點也不受感動或影響。", sentence1: "看到這麼感人的場面，他竟然無動於衷，真是鐵石心腸。", sentence2: "面對別人的指責，他依然無動於衷，我行我素。", scene: "內心一點也不受感動或影響。" },
            { id: 179, term: "滿腹辛酸", definition: "心中充滿了痛苦與委屈。", sentence1: "他離鄉背井多年，歷經滄桑，滿腹辛酸無人知。", sentence2: "聽到這首悲傷的歌，勾起了他滿腹辛酸的回憶。", scene: "心中充滿了痛苦和辛酸。" },
            { id: 180, term: "若隱若現", definition: "好像隱沒，又好像出現。形容模糊不清。", sentence1: "遠處的山峰在雲霧中若隱若現，宛如仙境。", sentence2: "夜空中星星若隱若現，增添了幾分神祕感。", scene: "隱約不明，模糊不清。" },
            { id: 181, term: "揠苗助長", definition: "比喻為求速成而未循序漸進，結果反而有害。", sentence1: "教育孩子要循循善誘，不可揠苗助長，以免適得其反。", sentence2: "這種速成的學習方法無異於揠苗助長，基礎打不穩。", scene: "違反自然發展規律，反而壞事。" },
            { id: 182, term: "因材施教", definition: "依據受教者不同的資質與條件，給予不同的教導。", sentence1: "老師應該因材施教，發揮每個學生的特長。", sentence2: "孔子是因材施教的典範，造就了許多優秀的弟子。", scene: "針對不同的對象，給予不同的教導。" },
            { id: 183, term: "知足常樂", definition: "知道滿足，就常保快樂。", sentence1: "雖然生活不富裕，但他懂的知足常樂，日子過得很開心。", sentence2: "知足常樂是保持心理健康的重要秘訣。", scene: "知道滿足，就常保快樂。" },
            { id: 184, term: "花言巧語", definition: "虛假動聽的話。", sentence1: "不要被他的花言巧語給騙了，他是個不誠實的人。", sentence2: "他只會說些花言巧語來討好別人，從不付諸行動。", scene: "虛假而動聽的話。" },
            { id: 185, term: "時光倏忽即逝", definition: "時間很快就過去了。", sentence1: "時光倏忽即逝，轉眼間我們都已經長大了。", sentence2: "歡樂的時光倏忽即逝，我們要好好珍惜當下。", scene: "時間過得極快，瞬間就消失。" },
            { id: 186, term: "不鳴則已，一鳴驚人", definition: "比喻平時沒有表現，一旦表現就令人驚訝。", sentence1: "他平時默默無聞，這次比賽卻奪得冠軍，真是不鳴則已，一鳴驚人。", sentence2: "這家公司潛伏多年，如今推出新產品，不鳴則已，一鳴驚人。", scene: "平時沒表現，一表現就驚人。" },
            { id: 187, term: "意氣風發", definition: "形容精神振奮，氣概豪邁。", sentence1: "他剛當選學生會長，意氣風發地發表就職演說。", sentence2: "看到球隊贏球，球迷們個個意氣風發，歡呼慶祝。", scene: "精神振奮，氣概豪邁。" },
            { id: 188, term: "前程似錦", definition: "形容前途如錦繡般美好。", sentence1: "祝你畢業後前程似錦，一帆風順。", sentence2: "這位年輕人有才華又有衝勁，未來肯定前程似錦。", scene: "未來像錦繡一樣美好。" },
            { id: 189, term: "平淡無奇", definition: "平凡普通，沒有什麼奇特之處。", sentence1: "這篇文章寫得平淡無奇，缺乏吸引力。", sentence2: "雖然生活平淡無奇，但他卻能從中找到樂趣。", scene: "平平淡淡，沒有什麼奇特之處。" },
            { id: 190, term: "野火燎原", definition: "比喻災禍或勢力蔓延極快，無法遏止。", sentence1: "謠言像野火燎原般迅速傳播，造成人心惶惶。", sentence2: "這場革命如野火燎原，很快就席捲了全國。", scene: "小亂子發展成大禍，或新生事物壯大。" },
            { id: 191, term: "擲地有聲", definition: "形容話語鏗鏘有力，很有分量。", sentence1: "他的發言擲地有聲，展現了堅定的決心。", sentence2: "這篇社論觀點獨到，文字擲地有聲，引起廣大迴響。", scene: "形容話語鏗鏘有力。" },
            { id: 192, term: "春風滿面", definition: "形容心情愉快，滿臉笑容。", sentence1: "他今天春風滿面，一定是有什麼好事發生。", sentence2: "看到孩子平安歸來，母親不禁春風滿面。", scene: "比喻人心情愉快，滿臉笑容。" },
            { id: 193, term: "拭目以待", definition: "擦亮眼睛等待著。形容殷切期望或密切關注事態的發展。", sentence1: "比賽結果究竟如何，大家都拭目以待。", sentence2: "對於這項新政策的成效，我們將拭目以待。", scene: "擦亮眼睛等待，形容殷切期待。" },
            { id: 194, term: "緣木求魚", definition: "爬到樹上去抓魚。比喻方向或方法錯誤，根本無法達到目的。", sentence1: "想用賭博致富，簡直是緣木求魚，不可能成功的。", sentence2: "不努力讀書卻想考高分，無異於緣木求魚。", scene: "方向方法錯誤，不可能達到目的。" },
            { id: 195, term: "豪邁遒勁", definition: "形容書法或詩文氣勢雄偉有力。", sentence1: "他的書法豪邁遒勁，氣勢磅礴，令人嘆為觀止。", sentence2: "這首詩風格豪邁遒勁，讀來讓人熱血沸騰。", scene: "氣勢豪放，剛勁有力。" },
            { id: 196, term: "莊周夢蝶", definition: "莊子夢見自己變成蝴蝶。典出《莊子》。比喻人生如夢，物我兩忘的境界。", sentence1: "人生如莊周夢蝶，虛幻無常，何必太過執著？", sentence2: "這首詩引用了莊周夢蝶的典故，表達了對現實與夢境的迷惘。", scene: "人生變幻無常，物我界線模糊。" },
            { id: 197, term: "尾生抱柱", definition: "尾生與女子約會，女子未到，洪水來襲，尾生抱柱而死。比喻堅守信約。", sentence1: "他對愛情的執著，簡直就像尾生抱柱一樣堅定。", sentence2: "現代人講求變通，尾生抱柱式的愚信未必值得效法。", scene: "比喻堅守信約，至死不渝。" },
            { id: 198, term: "夸父追日", definition: "夸父追趕太陽，最後渴死。比喻不自量力或有雄心壯志。", sentence1: "他想要憑一己之力改變世界，雖有夸父追日的壯志，卻難以實現。", sentence2: "我們佩服他夸父追日般的毅力，但也擔心他的身體狀況。", scene: "比喻不自量力或執著追求。" },
            { id: 199, term: "五柳先生", definition: "指東晉詩人陶淵明。他因宅邊有五棵柳樹而自號。代表作《歸去來兮辭》。", sentence1: "五柳先生不為五斗米折腰的氣節，至今仍為人稱頌。", sentence2: "他嚮往五柳先生那種「採菊東籬下」的隱居生活。", scene: "指陶淵明，隱居淡泊的形象。" },
            { id: 200, term: "上邪", definition: "漢樂府民歌。女子對天發誓，表達對愛情堅貞不渝的決心。", sentence1: "《上邪》一詩中，女子指天為誓，情感濃烈而真摯。", sentence2: "「山無陵，天地合，乃敢與君絕」是《上邪》中的千古名句。", scene: "古樂府詩名，表達對愛情的堅貞。" },
            { id: 201, term: "管寧割席", definition: "管寧與華歆絕交的故事。比喻朋友間因志趣不合而斷絕往來。", sentence1: "既然道不同不相為謀，我們就此管寧割席，各走各的路吧。", sentence2: "他們兩人因價值觀差異太大，最終上演了管寧割席的戲碼。", scene: "朋友絕交，劃清界線。" },
            { id: 202, term: "荀巨伯", definition: "東漢人。探病遇賊，以身代友，賊受感動而退。表現重義氣的精神。", sentence1: "荀巨伯捨身救友的故事，是許多講述義氣的教材範本。", sentence2: "在危難時刻，能像荀巨伯那樣挺身而出的人少之又少。", scene: "重視友情，捨生取義的典範。" },
            { id: 203, term: "烽火戲諸侯", definition: "周幽王為博褒姒一笑，點燃烽火戲弄諸侯，最終導致亡國。", sentence1: "做人要講信用，不可像周幽王烽火戲諸侯，自取滅亡。", sentence2: "這個故事告訴我們，烽火戲諸侯般的兒戲心態會招致嚴重後果。", scene: "昏君為博美人一笑，失信於臣子。" },
            { id: 204, term: "楚莊絕纓", definition: "楚莊王在宴會上被調戲，卻不追究，後獲該將軍捨身相救。喻寬大為懷。", sentence1: "主管若能有楚莊絕纓的雅量，必能贏得部屬的忠心。", sentence2: "他不計前嫌，展現了楚莊絕纓的氣度，化敵為友。", scene: "寬容大度，不計較部下過失。" },
            { id: 205, term: "圖窮匕現", definition: "比喻事情發展到最後，真相或本意顯露出來。（典出荊軻刺秦王）。", sentence1: "這場談判到了最後，對方終於圖窮匕現，露出了貪婪的真面目。", sentence2: "騙局進行到最後，往往是圖窮匕現，讓人措手不及。", scene: "比喻事情發展到最後，真相顯露。" },
            { id: 206, term: "夜郎自大", definition: "比喻人無知而又狂妄自大。（典出漢朝夜郎國王不知漢朝廣大）。", sentence1: "他只不過有點小成就就夜郎自大，看不起別人。", sentence2: "我們要有國際觀，切勿閉門造車，夜郎自大。", scene: "比喻見識短淺，狂妄自大。" },
            { id: 207, term: "歲寒不凋", definition: "歲寒：一年中的寒冷季節。指松柏在寒冬中不凋謝。比喻人格堅貞。", sentence1: "君子處亂世，應如松柏歲寒不凋，堅守節操。", sentence2: "雖然環境惡劣，但他依然歲寒不凋，不改其志。", scene: "艱難環境中保持節操。" },
            { id: 208, term: "項莊舞劍", definition: "項莊舞劍，意在沛公。比喻說話或行動表面上雖有正當名目，實則別有用心。", sentence1: "他這番話聽起來冠冕堂皇，實則項莊舞劍，意在攻擊對手。", sentence2: "這場宴會氣氛詭異，頗有項莊舞劍之勢。", scene: "表面上有正當名目，暗中另有所圖。" },
            { id: 209, term: "青女素娥", definition: "指主管霜雪的女神與嫦娥。代指霜雪與月亮。", sentence1: "詩人常以青女素娥來描寫秋夜的清冷與美麗。", sentence2: "「青女素娥俱耐冷，月中霜裡鬥嬋娟」是李商隱的名句。", scene: "指掌管霜雪與月亮的女神。" },
            { id: 210, term: "借代", definition: "不直接說出要說的人或事物，而借用與之有密切關係的事物來代替。", sentence1: "詩中用「紅顏」借代美女或少年，是常見的手法。", sentence2: "「何以解憂？唯有杜康。」句中以「杜康」借代酒。", scene: "不直接說出名稱，用相關事物代替。" },
            { id: 211, term: "誇飾", definition: "對事物的形象、特徵、作用等做誇大或縮小的描述。", sentence1: "「白髮三千丈」運用了誇飾修辭，形容愁緒之深。", sentence2: "「力拔山兮氣蓋世」是項羽用誇飾法形容自己的神勇。", scene: "誇張鋪飾，超過客觀事實。" },
            { id: 212, term: "譬喻", definition: "即「打比方」。用淺顯、具體的事物來說明深奧、抽象的事物。", sentence1: "「那顫抖的葉是我等待的熱情」使用了隱喻（暗喻）的譬喻技巧。", sentence2: "「撒了滿天的珍珠」以珍珠譬喻星星，形象生動。", scene: "借彼喻此，用類似事物來比方。" },
            { id: 213, term: "轉化", definition: "描述事物時，轉變其原來的性質，化成另一種本質截然不同的事物。", sentence1: "「將你的名字種在心田」將名字擬物化，是轉化修辭。", sentence2: "「把秋天一寸寸賣光了」將抽象的季節擬物化，也是轉化。", scene: "描述事物性質轉變，如擬人、擬物。" },
            { id: 214, term: "映襯", definition: "把兩種不同，特別是相反的觀念或事實，對列起來，兩相比較。", sentence1: "「鳥鳴山更幽」以動襯靜，運用了映襯修辭。", sentence2: "「不在乎天長地久，只在乎曾經擁有」以長久與短暫做映襯。", scene: "對立的事物並列，互相襯托。" },
            { id: 215, term: "席慕蓉", definition: "蒙古族女詩人、畫家。作品多寫愛情、鄉愁、時光。代表作《一棵開花的樹》。", sentence1: "席慕蓉的詩作情感細膩，深受年輕讀者喜愛。", sentence2: "《一棵開花的樹》是席慕蓉最膾炙人口的愛情詩之一。", scene: "台灣知名畫家詩人，擅寫抒情詩。" },
            { id: 216, term: "新詩", definition: "又稱現代詩。形式自由，不拘平仄，不一定要押韻，長短不限。", sentence1: "新詩打破了古典詩詞的格律限制，讓詩人能更自由地表達情感。", sentence2: "這首新詩運用了豐富的意象，耐人尋味。", scene: "現代自由詩體，不拘格律。" },
            { id: 217, term: "近體詩", definition: "唐代形成的律詩和絕句的通稱。講究平仄、押韻和對仗。", sentence1: "近體詩格律嚴謹，與古體詩的形式大不相同。", sentence2: "唐詩三百首中收錄了許多膾炙人口的近體詩。", scene: "唐代形成的格律詩，講究平仄。" },
            { id: 218, term: "絕句", definition: "近體詩的一種，每首四句。分五言絕句、七言絕句。", sentence1: "李白的《靜夜思》是一首家喻戶曉的五言絕句。", sentence2: "絕句篇幅短小，卻能寓意深遠。", scene: "近體詩的一種，每首四句。" },
            { id: 219, term: "律詩", definition: "近體詩的一種，每首八句。分五言律詩、七言律詩。中間兩聯須對仗。", sentence1: "杜甫的《春望》是一首感時憂國的五言律詩。", sentence2: "律詩要求頷聯與頸聯必須對仗工整。", scene: "近體詩的一種，每首八句。" },
            { id: 220, term: "有板有眼", definition: "比喻言語行動有條理、有層次。（歇後語：光屁股坐板凳）。", sentence1: "他唱起戲來有板有眼，頗有專業水準。", sentence2: "他做事有板有眼，絕不馬虎，深得老闆賞識。", scene: "比喻言語行動有條理、有層次。" },
            { id: 221, term: "一本正經", definition: "形容態度莊重，不苟言笑。（歇後語：秀才老爺看易經）。", sentence1: "別看他平時愛開玩笑，工作起來可是一本正經。", sentence2: "他一本正經地胡說八道，逗得大家哈哈大笑。", scene: "形容態度莊重嚴肅。" },
            { id: 222, term: "節節高升", definition: "形容職位或地位不斷往上爬升。（歇後語：矮子放風箏）。", sentence1: "祝你事業順利，職位節節高升。", sentence2: "隨著業績成長，公司的股價也節節高升。", scene: "職位或學業像竹子一樣一節節上升。" },
            { id: 223, term: "蓬門今始為君開", definition: "語出杜甫《客至》。形容對貴客的熱烈歡迎。", sentence1: "歡迎您大駕光臨，真是花徑不曾緣客掃，蓬門今始為君開。", sentence2: "老友來訪，我當然要掃榻以待，蓬門今始為君開。", scene: "寒舍今天才為您的到來而打開。" },
            { id: 224, term: "雄雞一聲天下白", definition: "雄雞鳴叫一聲後，天就亮了。比喻黑暗過去，光明到來。", sentence1: "革命成功，雄雞一聲天下白，國家迎來了新生。", sentence2: "經過漫長的等待，終於雄雞一聲天下白，正義得到伸張。", scene: "公雞一叫，天就亮了，比喻光明來到。" },
            { id: 225, term: "惜取少年時", definition: "勸人珍惜少年的時光。", sentence1: "勸君莫惜金縷衣，勸君惜取少年時。", sentence2: "我們要惜取少年時，努力充實自己，莫待老來徒傷悲。", scene: "勸人珍惜少年的美好時光。" },
            { id: 226, term: "莫待無花空折枝", definition: "勸人把握時機，以免錯過後悔。", sentence1: "勸君莫惜金縷衣，莫待無花空折枝，青春一去不復返。", sentence2: "機會稍縱即逝，我們要及時把握，莫待無花空折枝。", scene: "不要等到花謝了才去折空枝。" },
            { id: 227, term: "吹面不寒楊柳風", definition: "形容春風柔和溫暖。", sentence1: "沾衣欲濕杏花雨，吹面不寒楊柳風，春天的景色真美。", sentence2: "吹面不寒楊柳風，騎著單車在河濱公園漫遊，真是愜意。", scene: "春風吹在臉上不覺得寒冷。" },
            { id: 228, term: "漫卷詩書喜欲狂", definition: "形容聽到好消息時極度高興，隨意收捲書籍。", sentence1: "聽到戰爭勝利的消息，杜甫漫卷詩書喜欲狂，準備返鄉。", sentence2: "收到錄取通知書的那一刻，他簡直是漫卷詩書喜欲狂。", scene: "聽到好消息，高興得胡亂捲起書本。" },
            { id: 229, term: "留取丹心照汗青", definition: "指即使死後也要將赤誠忠心留在史冊上。", sentence1: "文天祥寧死不屈，留下了「人生自古誰無死，留取丹心照汗青」的千古絕唱。", sentence2: "岳飛精忠報國，其精神留取丹心照汗青，為後人景仰。", scene: "留下一顆赤誠的心，光照史冊。" },
            { id: 230, term: "煙花三月下揚州", definition: "形容春天美景時節去揚州遊覽。", sentence1: "故人西辭黃鶴樓，煙花三月下揚州，這首詩描寫了送別的情景。", sentence2: "李白送別孟浩然，寫下了煙花三月下揚州的佳句。", scene: "春天美好時節，乘船去揚州。" },
            { id: 231, term: "綿綿思遠道", definition: "形容對遠方人的思念延綿不絕。", sentence1: "青青河畔草，綿綿思遠道，她在河邊思念著遠方的丈夫。", sentence2: "每當夜深人靜，綿綿思遠道的情緒便湧上心頭。", scene: "思念遠方親人的情意綿綿不斷。" },
            { id: 232, term: "明日隔山岳，世事兩茫茫", definition: "形容離別後，未來如隔山岳，世事難料。", sentence1: "此去經年，明日隔山岳，世事兩茫茫，不知何時才能再相見。", sentence2: "畢業後大家各奔東西，真是明日隔山岳，世事兩茫茫。", scene: "分別後山岳阻隔，世事難料。" },
            { id: 233, term: "微風徐徐", definition: "形容輕微的風緩緩吹來。", sentence1: "傍晚時分，微風徐徐，走在河堤上非常舒服。", sentence2: "微風徐徐吹來，帶來了陣陣花香。", scene: "輕微的風緩緩吹來。" },
            { id: 234, term: "冷眼斜睥", definition: "帶著輕視的態度斜眼看人。", sentence1: "他仗勢欺人，對窮人總是冷眼斜睥，態度傲慢。", sentence2: "面對別人的冷眼斜睥，他反而更加努力，證明自己的實力。", scene: "冷漠傲慢地斜眼看人。" },
            { id: 235, term: "狼藉", definition: "雜亂不堪的樣子。", sentence1: "宴會結束後，杯盤狼藉，清潔人員忙著收拾。", sentence2: "颱風過後，街道上一片狼藉，到處是倒塌的樹木和招牌。", scene: "雜亂不堪的樣子。" },
            { id: 236, term: "赤誠", definition: "極真誠的心意。", sentence1: "他以一片赤誠待人，贏得了大家的信任。", sentence2: "只要我們抱著赤誠之心，一定能化解彼此的誤會。", scene: "極其真誠的心意。" },
            { id: 237, term: "蒼鬱", definition: "草木深綠茂盛的樣子。", sentence1: "山上林木蒼鬱，空氣清新，是避暑的好去處。", sentence2: "這棵古樹枝葉蒼鬱，生機勃勃。", scene: "草木深綠茂盛的樣子。" },
            { id: 238, term: "汗涔涔", definition: "汗水直流的樣子。", sentence1: "他跑完馬拉松，全身汗涔涔，氣喘吁吁。", sentence2: "烈日下工作，每個人都汗涔涔的，衣服都濕透了。", scene: "汗水不斷流下的樣子。" },
            { id: 239, term: "牆裡開花牆外香", definition: "比喻成績或優點不受本地重視，反而在外地獲得好評。", sentence1: "他的發明在國內乏人問津，在國外卻獲大獎，真是牆裡開花牆外香。", sentence2: "這位歌手是典型的牆裡開花牆外香，在海外比在國內紅。", scene: "內部的事物在外部產生影響。" },
            { id: 240, term: "患難見真情", definition: "只有在共同經歷艱難困苦時，才能看透一個人的真心。", sentence1: "這次生病多虧他悉心照顧，真是患難見真情。", sentence2: "經商失敗後，朋友們紛紛離去，唯有他伸出援手，可見患難見真情。", scene: "遭遇困難時才能看出真正的情誼。" },
            { id: 241, term: "鳳凰不與烏鴉棲", definition: "比喻君子不與小人同流合汙。", sentence1: "他以此自喻鳳凰不與烏鴉棲，拒絕了那個貪腐集團的邀請。", sentence2: "所謂道不同不相為謀，鳳凰不與烏鴉棲，我們還是分道揚鑣吧。", scene: "君子不與小人同流合污。" },
            { id: 242, term: "寧為雞口，不為牛後", definition: "比喻寧願在小場面中作主，不願在大場面聽人支配。", sentence1: "他辭去大公司的職位自行創業，正是寧為雞口，不為牛後。", sentence2: "許多年輕人抱持著寧為雞口，不為牛後的心態，選擇返鄉發展。", scene: "寧願在小局面做主，不願在大局面受人支配。" },
            { id: 243, term: "坐這山望那山", definition: "比喻不知足，心意不專一。", sentence1: "做事要專心，不要坐這山望那山，結果一事無成。", sentence2: "他換工作頻繁，總是坐這山望那山，覺得別家公司比較好。", scene: "比喻不滿現狀，見異思遷。" },
            { id: 244, term: "三思而後言", definition: "說話前先反覆思考。", sentence1: "為了避免失言傷人，我們應養成三思而後言的習慣。", sentence2: "他做事穩重，說話更是三思而後言，從不信口開河。", scene: "考慮清楚後再說話。" },
            { id: 245, term: "落花有意，流水無情", definition: "比喻一方有意，另一方卻無情。", sentence1: "他苦苦追求對方，奈何落花有意，流水無情，始終得不到回應。", sentence2: "這段感情終究是落花有意，流水無情，強求不來。", scene: "一方有情意，另一方卻無動於衷。" },
            { id: 246, term: "當家才知柴米貴", definition: "比喻親身經歷，才知持家不易。", sentence1: "以前總覺得父母嘮叨，現在自己獨立生活，當家才知柴米貴。", sentence2: "不養兒不知父母恩，當家才知柴米貴，我們應體諒父母的辛勞。", scene: "親自主持家務，才知生活艱辛。" },
            { id: 247, term: "日久見人心", definition: "相處久了，才能看出一個人的心地好壞。", sentence1: "路遙知馬力，日久見人心，時間會證明一切。", sentence2: "不要輕易相信別人的甜言蜜語，日久見人心，要多觀察。", scene: "相處久了，才能看出人心的好壞。" },
            { id: 248, term: "讀萬卷書，不如行萬里路", definition: "強調實踐經驗比書本知識更重要。", sentence1: "讀萬卷書，不如行萬里路，親身體驗才能獲得真知。", sentence2: "旅遊可以增廣見聞，驗證讀萬卷書，不如行萬里路的道理。", scene: "親身實踐的經驗比書本知識更重要。" },
            { id: 249, term: "日出而作，日入而息", definition: "古人純樸的生活方式，隨著太陽作息。", sentence1: "農夫們過著日出而作，日入而息的生活，雖然辛苦但也充實。", sentence2: "這種日出而作，日入而息的規律生活，對身體健康很有幫助。", scene: "簡樸規律的農家生活。" },
            { id: 250, term: "說的比唱的好聽", definition: "形容說話動聽但不切實際。", sentence1: "他總是說的比唱的好聽，但從來沒有兌現過承諾。", sentence2: "別相信那些政客說的比唱的好聽的競選支票。", scene: "形容言詞動聽，但多不切實際。" },
            { id: 251, term: "幾家歡樂幾家愁", definition: "形容際遇不同，有人高興，有人憂愁。", sentence1: "放榜時刻，幾家歡樂幾家愁，有人金榜題名，有人名落孫山。", sentence2: "股市波動劇烈，投資人幾家歡樂幾家愁。", scene: "有人高興，有人憂愁，際遇不同。" },
            { id: 252, term: "好聚終不如好散", definition: "分手時要好好的離開，不要留下怨恨。", sentence1: "既然感情已逝，好聚終不如好散，彼此祝福吧。", sentence2: "合作破局沒關係，好聚終不如好散，以後說不定還有機會合作。", scene: "分離時應好來好去，不傷和氣。" },
            { id: 253, term: "沒有不散的筵席", definition: "比喻世事無常，聚散終有時。", sentence1: "天下沒有不散的筵席，離別是為了下一次的重逢。", sentence2: "送君千里終須一別，沒有不散的筵席，大家保重。", scene: "世事無常，團聚終有分離時。" }
        ];

        // --- Icons (優化版) ---
        const icons = {
            check: <polyline points="20 6 9 17 4 12" />,
            play: <polygon points="5 3 19 12 5 21 5 3" />,
            book: <><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></>,
            menu: <><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></>,
            left: <polyline points="15 18 9 12 15 6"/>,
            heart: <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>,
            history: <><path d="M12 8v4l3 3"/><circle cx="12" cy="12" r="10"/></>,
            alert: <><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></>,
            trash: <><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></>,
            login: <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M15 12H3"/>,
            lightning: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>,
            logout: <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>,
            userX: <><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="18" y1="8" x2="23" y2="13"/><line x1="23" y1="8" x2="18" y2="13"/></>,
            search: <><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></>,
            list: <><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></>
        };

        const Icon = ({ path, className, fill = "none" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{path}</svg>
        );

        // -- Components --

        const MenuView = ({ 
            userName, setUserName, showNameWarning, mistakeLog, favorites, parsedData, 
            onStartLearn, onStartQuiz, onViewHistory, onViewMistakes, onViewTable,
            onLogin, isLocked, onQuickLogin, lastUser, onLogout, onDeleteUser
        }) => (
            <div className="max-w-5xl mx-auto px-4 py-8 animate-fade-in-up">
                <div className="flex flex-col md:flex-row justify-between items-start md:items-end mb-10 gap-6">
                    <div>
                        <h1 className="text-4xl md:text-5xl font-extrabold text-amber-900 tracking-tight flex items-center gap-3 font-serif drop-shadow-sm">
                            <span className="text-5xl md:text-6xl filter drop-shadow-md">📜</span> 
                            <div>
                                成語大師 <span className="text-lg md:text-xl block md:inline text-amber-700 font-normal">精選成語版</span>
                            </div>
                        </h1>
                        <div className="mt-6 flex flex-wrap items-center gap-3 p-4 bg-amber-100/80 backdrop-blur-sm rounded-xl border border-amber-200 shadow-sm">
                            <span className="text-amber-900 font-bold text-lg">主公姓名：</span>
                            <div className="relative flex flex-wrap items-center gap-2">
                                <input 
                                    type="text" 
                                    value={userName}
                                    onChange={(e) => !isLocked && setUserName(e.target.value)}
                                    placeholder="請輸入姓名"
                                    disabled={isLocked}
                                    className={`border-2 rounded-lg px-4 py-2 outline-none transition-all text-lg w-48 ${isLocked ? 'bg-amber-50 text-gray-500 border-amber-200 cursor-not-allowed font-bold' : (showNameWarning ? 'border-red-500 bg-red-50 ring-2 ring-red-200 animate-shake' : 'border-amber-300 focus:ring-4 focus:ring-amber-200 focus:border-amber-500 bg-white')}`}
                                />
                                {!isLocked ? (
                                    <button onClick={onLogin} className="bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-lg text-base font-bold flex items-center transition-colors shadow-sm transform active:scale-95">
                                        <Icon path={icons.login} className="w-5 h-5 mr-2" fill="currentColor"/> 登入
                                    </button>
                                ) : (
                                    <div className="flex flex-wrap gap-2">
                                        <span className="bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-bold flex items-center border border-green-200">
                                            <Icon path={icons.check} className="w-5 h-5 mr-1.5"/> 已登入
                                        </span>
                                        <button onClick={onLogout} className="bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center transition-colors shadow-sm">
                                            <Icon path={icons.logout} className="w-4 h-4 mr-1.5" fill="currentColor"/> 登出
                                        </button>
                                        <button onClick={onDeleteUser} className="bg-gray-400 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center transition-colors shadow-sm group" title="刪除使用者">
                                            <Icon path={icons.userX} className="w-4 h-4 mr-1.5 group-hover:scale-110 transition-transform" fill="currentColor"/> 刪除
                                        </button>
                                    </div>
                                )}
                                {!isLocked && lastUser && (
                                    <button onClick={onQuickLogin} className="bg-blue-100 hover:bg-blue-200 text-blue-800 px-4 py-2 rounded-lg text-sm font-bold flex items-center transition-colors border border-blue-200">
                                        <Icon path={icons.lightning} className="w-4 h-4 mr-1.5" fill="currentColor"/> 快速登入 ({lastUser})
                                    </button>
                                )}
                                {showNameWarning && <div className="absolute left-0 -bottom-8 text-sm text-red-600 font-bold bg-red-100 px-2 py-1 rounded">* 請先輸入姓名並登入</div>}
                            </div>
                        </div>
                    </div>
                    <div className="flex gap-3 w-full md:w-auto">
                        <button onClick={onViewHistory} className="flex-1 md:flex-none justify-center flex items-center px-5 py-3 bg-white/90 backdrop-blur text-gray-700 rounded-xl shadow-sm hover:shadow-md hover:bg-white border-2 border-gray-200 font-bold text-lg transition-all"><Icon path={icons.history} className="w-5 h-5 mr-2"/> 戰績</button>
                        <button onClick={onViewMistakes} className="flex-1 md:flex-none justify-center flex items-center px-5 py-3 bg-red-50/90 backdrop-blur text-red-700 rounded-xl shadow-sm hover:shadow-md hover:bg-red-100 border-2 border-red-200 font-bold text-lg transition-all"><Icon path={icons.alert} className="w-5 h-5 mr-2"/> 錯題 ({mistakeLog.length})</button>
                    </div>
                </div>

                {/* 成語一覽表按鈕 */}
                <div className="mb-8">
                    <button onClick={onViewTable} className="w-full py-4 bg-purple-600/90 backdrop-blur hover:bg-purple-700 text-white rounded-2xl shadow-lg hover:shadow-xl font-bold text-xl flex items-center justify-center transition-all transform active:scale-[0.99] border-2 border-purple-400 group">
                        <Icon path={icons.list} className="w-6 h-6 mr-3 group-hover:scale-110 transition-transform"/> 成語一覽表 (快速查詢)
                    </button>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                    {/* 錦囊收藏卡片 */}
                    <div className="bg-gradient-to-br from-red-50/90 to-orange-50/90 backdrop-blur p-8 rounded-2xl shadow-sm border-2 border-red-100 flex flex-col justify-between hover:border-red-200 transition-colors">
                        <div className="flex items-start mb-6">
                            <div className="bg-white p-4 rounded-2xl shadow-sm text-red-500 mr-5 border border-red-100">
                                <Icon path={icons.heart} className="w-10 h-10" fill="currentColor"/>
                            </div>
                            <div>
                                <h3 className="text-2xl font-black text-gray-800 mb-1">錦囊收藏</h3>
                                <p className="text-gray-600 font-medium">目前收藏了 <span className="text-red-600 font-bold text-xl">{favorites.length}</span> 則成語</p>
                            </div>
                        </div>
                        <div className="grid grid-cols-2 gap-4 mt-auto">
                            <button onClick={() => onStartLearn('收藏夾')} disabled={favorites.length===0} className="py-3 bg-white text-red-700 rounded-xl shadow-sm hover:bg-red-50 font-bold text-lg border-2 border-red-100 disabled:opacity-50 disabled:cursor-not-allowed">溫故</button>
                            <button onClick={() => onStartQuiz('收藏夾')} disabled={favorites.length===0} className="py-3 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-700 font-bold text-lg transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">知新挑戰</button>
                        </div>
                    </div>
                    
                    {/* 精選成語卡片 */}
                    <div className="bg-white/90 backdrop-blur p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all border-2 border-amber-200 flex flex-col relative overflow-hidden group">
                        <div className="absolute top-0 right-0 w-32 h-32 bg-amber-100 rounded-bl-full -mr-12 -mt-12 opacity-50 group-hover:scale-110 transition-transform duration-500"></div>
                        <div className="flex justify-between items-start mb-3 relative z-10">
                            <h3 className="text-3xl font-black text-amber-900">精選成語</h3>
                            <span className="text-sm font-bold text-amber-700 bg-amber-100 px-3 py-1 rounded-full border border-amber-200">全 253 則</span>
                        </div>
                        <div className="text-gray-500 mb-8 font-medium text-lg relative z-10">
                            包含塵緣、視若無睹、跌宕起伏...等精選成語，增進語文能力。
                        </div>
                        <div className="grid grid-cols-2 gap-4 mt-auto relative z-10">
                            <button onClick={() => onStartLearn('精選成語')} className="flex items-center justify-center py-3 bg-amber-50 text-amber-900 rounded-xl hover:bg-amber-100 font-bold text-lg border-2 border-amber-200 transition-colors"><Icon path={icons.book} className="w-5 h-5 mr-2"/> 研讀</button>
                            <button onClick={() => onStartQuiz('精選成語')} className="flex items-center justify-center py-3 bg-amber-600 text-white rounded-xl shadow-lg hover:bg-amber-700 font-bold text-lg transform active:scale-95 transition-all"><Icon path={icons.play} className="w-5 h-5 mr-2"/> 開始挑戰</button>
                        </div>
                    </div>
                </div>
                
                <div className="mt-12 text-center text-gray-500 text-sm font-medium bg-white/50 backdrop-blur rounded-full py-2 inline-block px-6 mx-auto w-full md:w-auto">
                    &copy; 2025 成語大師 • 互動式學習系統
                </div>
            </div>
        );

        // TableView 組件 (移除人物)
        const TableView = ({ items, onMenu, favorites, toggleFavorite }) => {
            const [searchTerm, setSearchTerm] = useState("");
            
            const filteredItems = useMemo(() => {
                if (!searchTerm.trim()) return items;
                const lowerTerm = searchTerm.toLowerCase();
                return items.filter(item => 
                    String(item.id).includes(lowerTerm) ||
                    item.term.includes(lowerTerm) ||
                    item.definition.includes(lowerTerm) ||
                    item.sentence1.includes(lowerTerm)
                );
            }, [items, searchTerm]);

            return (
                <div className="max-w-7xl mx-auto px-4 py-8 animate-fade-in-up">
                    <div className="bg-white/95 backdrop-blur-md rounded-2xl shadow-xl overflow-hidden border border-gray-200 flex flex-col h-[85vh]">
                        {/* Header & Search */}
                        <div className="p-6 border-b border-gray-200 bg-gray-50 flex flex-col md:flex-row justify-between items-center gap-4">
                            <div className="flex items-center gap-4 w-full md:w-auto">
                                <button onClick={onMenu} className="flex items-center text-gray-600 hover:text-gray-900 font-bold bg-white border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors shadow-sm">
                                    <Icon path={icons.left} className="w-5 h-5 mr-2"/> 返回
                                </button>
                                <h2 className="text-2xl font-black text-gray-800 flex items-center">
                                    <Icon path={icons.list} className="w-6 h-6 mr-3 text-purple-600"/>
                                    成語一覽表
                                    <span className="ml-3 text-sm font-normal text-gray-500 bg-gray-200 px-2 py-1 rounded-full">共 {items.length} 則</span>
                                </h2>
                            </div>
                            <div className="relative w-full md:w-96">
                                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                    <Icon path={icons.search} className="w-5 h-5"/>
                                </div>
                                <input
                                    type="text"
                                    placeholder="搜尋名稱、編號..."
                                    className="pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl w-full focus:ring-4 focus:ring-purple-100 focus:border-purple-500 outline-none transition-all"
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                />
                            </div>
                        </div>

                        {/* Table Content */}
                        <div className="flex-1 overflow-auto bg-white p-0">
                            <table className="w-full text-left border-collapse prose-table">
                                <thead className="bg-purple-50 sticky top-0 z-10 shadow-sm">
                                    <tr>
                                        <th className="p-4 font-black text-purple-900 border-b-2 border-purple-100 w-16 text-center">收藏</th>
                                        <th className="p-4 font-black text-purple-900 border-b-2 border-purple-100 w-20 text-center">編號</th>
                                        <th className="p-4 font-black text-purple-900 border-b-2 border-purple-100 w-48">成語名稱</th>
                                        <th className="p-4 font-black text-purple-900 border-b-2 border-purple-100">釋義</th>
                                        <th className="p-4 font-black text-purple-900 border-b-2 border-purple-100 w-96">應用範例</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-gray-100">
                                    {filteredItems.length > 0 ? (
                                        filteredItems.map(item => (
                                            <tr key={item.id} className="hover:bg-purple-50/50 transition-colors">
                                                <td className="p-4 text-center bg-gray-50/30">
                                                    <button onClick={() => toggleFavorite(item.id)} className="transition-transform active:scale-95 hover:scale-110">
                                                        <Icon path={icons.heart} className={`w-6 h-6 ${favorites.includes(item.id) ? "text-red-500" : "text-gray-300 hover:text-red-400"}`} fill={favorites.includes(item.id) ? "currentColor" : "none"} />
                                                    </button>
                                                </td>
                                                <td className="p-4 text-center font-mono text-gray-500 font-bold bg-gray-50/50">{item.id}</td>
                                                <td className="p-4 font-bold text-gray-900 text-lg sticky left-0 bg-white md:static">{item.term}</td>
                                                <td className="p-4 text-gray-600 leading-relaxed text-sm">{item.definition}</td>
                                                <td className="p-4 text-gray-500 italic text-sm border-l-4 border-gray-100 bg-gray-50/30">
                                                    {item.sentence1}
                                                </td>
                                            </tr>
                                        ))
                                    ) : (
                                        <tr>
                                            <td colSpan="5" className="p-12 text-center text-gray-400">
                                                <div className="flex flex-col items-center">
                                                    <Icon path={icons.search} className="w-12 h-12 mb-2 opacity-50"/>
                                                    <span className="text-lg">找不到符合「{searchTerm}」的資料</span>
                                                </div>
                                            </td>
                                        </tr>
                                    )}
                                </tbody>
                            </table>
                        </div>
                        <div className="bg-gray-50 p-2 text-center text-xs text-gray-400 border-t border-gray-200">
                            顯示 {filteredItems.length} 筆資料
                        </div>
                    </div>
                </div>
            );
        };

        const LearnView = ({ 
            items, learnPage, setLearnPage, favorites, toggleFavorite, completedDays, onMenu 
        }) => {
            const totalPages = Math.ceil(items.length / ITEMS_PER_PAGE);
            const currentItems = items.slice(learnPage * ITEMS_PER_PAGE, (learnPage + 1) * ITEMS_PER_PAGE);
            const scrollRef = useRef(null);

            useEffect(() => {
                if (scrollRef.current) scrollRef.current.scrollTop = 0;
                window.scrollTo(0, 0);
            }, [learnPage]);

            return (
                <div className="max-w-4xl mx-auto px-4 py-6" ref={scrollRef}>
                    <div className="bg-white/90 backdrop-blur-md p-4 rounded-xl shadow-sm mb-8 flex flex-col md:flex-row justify-between items-center sticky top-0 z-30 border-b-2 border-amber-200">
                        <div className="flex items-center gap-4 mb-4 md:mb-0 w-full md:w-auto">
                            <button onClick={onMenu} className="text-gray-500 hover:text-gray-900 flex items-center whitespace-nowrap bg-gray-100 px-3 py-2 rounded-lg font-bold"><Icon path={icons.menu} className="w-5 h-5 mr-2"/> 選單</button>
                            <h2 className="text-2xl font-black flex items-center whitespace-nowrap text-amber-900">
                                📖 典故卷軸
                            </h2>
                        </div>
                        
                        <div className="flex overflow-x-auto max-w-full w-full md:w-auto pb-2 md:pb-0 gap-2 mt-2 md:mt-0 no-scrollbar">
                            {Array.from({ length: totalPages }).map((_, i) => {
                                const isCompleted = completedDays.includes(`精選成語-${i}`);
                                return (<button key={i} onClick={() => setLearnPage(i)} className={`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap flex items-center gap-2 transition-all flex-shrink-0 ${learnPage === i ? 'bg-amber-600 text-white shadow-md transform scale-105' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}>卷 {i + 1} {isCompleted && <span className="bg-green-400 text-white text-[10px] px-1.5 py-0.5 rounded-full">✓</span>}</button>);
                            })}
                        </div>
                    </div>
                    
                    <div className="space-y-8">
                        {currentItems.map((item, idx) => (
                            <div key={item.id} className="bg-white/95 backdrop-blur-sm rounded-2xl p-6 md:p-8 shadow-sm border border-amber-100 relative group hover:shadow-lg transition-all animate-fade-in-up" style={{animationDelay: `${idx * 0.05}s`}}>
                                <button onClick={() => toggleFavorite(item.id)} className="absolute top-6 right-6 text-gray-200 hover:text-red-500 z-10 transition-colors">
                                    <Icon path={icons.heart} className={`w-8 h-8 drop-shadow-sm ${favorites.includes(item.id) ? "text-red-500" : ""}`} fill={favorites.includes(item.id) ? "currentColor" : "none"} />
                                </button>
                                <div className="flex flex-col md:flex-row gap-8">
                                    <div className="flex-1">
                                        <div className="flex items-baseline gap-3 mb-3 flex-wrap pr-10">
                                            <span className="text-amber-300 font-mono text-xl font-black">#{String(item.id).padStart(3,'0')}</span>
                                            <h3 className="text-3xl font-black text-gray-900 tracking-tight">{item.term}</h3>
                                        </div>
                                        <div className="bg-gradient-to-r from-amber-50 to-transparent p-4 rounded-xl text-amber-900 mb-6 text-lg font-medium border-l-8 border-amber-400">
                                            {item.definition}
                                        </div>
                                        
                                        <div className="text-gray-600 leading-relaxed pl-4 italic border-l-4 border-gray-300 text-lg bg-gray-50 py-2 pr-2 rounded-r-lg">
                                            <span className="font-bold not-italic text-gray-400 mr-2 text-sm">應用範例</span>
                                            {item.sentence1 && item.sentence1.split(item.term).map((part, i, arr) => (<React.Fragment key={i}>{part}{i < arr.length - 1 && <span className="text-amber-700 font-bold mx-1 border-b-2 border-amber-700">{item.term}</span>}</React.Fragment>))}
                                        </div>
                                    </div>
                                    
                                    {/* Image Section - 改用情境描述 */}
                                    <div className="w-full md:w-96 flex-shrink-0 flex flex-col items-center">
                                        <div className="bg-white p-2 border-2 border-gray-100 rounded-2xl w-full shadow-sm">
                                            <div className="rounded-xl overflow-hidden bg-gray-200 aspect-[4/3] relative group-img cursor-pointer w-full">
                                                <img 
                                                    src={`images/p${String(item.id).padStart(3, '0')}.jpg`}
                                                    alt={item.scene} 
                                                    loading="lazy"
                                                    className="w-full h-full object-cover transition-transform duration-700 hover:scale-110"
                                                    onError={(e) => {
                                                        e.target.onerror = null; 
                                                        e.target.parentNode.innerHTML = `
                                                            <div class="w-full h-full flex flex-col items-center justify-center bg-gray-100 text-gray-400 p-4 text-center">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mb-2 opacity-50"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                                                                <span class="text-sm font-bold text-gray-500">${item.scene}</span>
                                                            </div>
                                                        `;
                                                    }}
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="h-20"></div>
                </div>
            );
        };

        const QuizView = ({ 
            questions, score, userName, combo, onAnswer, onFinish, onMenu, onViewHistory, favorites, toggleFavorite,
            totalItems, quizPage, onPageChange, completedDays 
        }) => {
            const [showResult, setShowResult] = useState(false);
            const isFinished = questions.length > 0 && questions.every(q => q.userAnswer !== null);
            const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);

            useEffect(() => { 
                if (isFinished && !showResult) { 
                    const timer = setTimeout(() => {
                        onFinish(); 
                        setShowResult(true); 
                    }, 800); 
                    return () => clearTimeout(timer);
                } 
            }, [isFinished]);

            if (showResult) {
                 return (
                    <div className="max-w-2xl mx-auto pt-10 px-4 animate-fade-in-up">
                        <div className="bg-white rounded-3xl shadow-2xl overflow-hidden text-center border-4 border-amber-400">
                            <div className="bg-amber-500 p-10 text-white relative overflow-hidden">
                                <div className="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
                                <h2 className="text-4xl font-black mb-2 font-serif relative z-10">戰役結束</h2>
                                <p className="opacity-90 font-bold text-lg relative z-10">主公 {userName} 辛苦了</p>
                            </div>
                            <div className="p-10">
                                <div className="text-8xl font-black text-amber-600 mb-2 font-mono tracking-tighter">{score} <span className="text-3xl text-gray-300 font-bold">/ {questions.length}</span></div>
                                <div className="text-gray-400 font-bold mb-8 uppercase tracking-widest">本次戰功</div>
                                
                                <div className="flex justify-center gap-4 mb-10">
                                    <div className="flex-1 bg-green-50 text-green-700 py-4 rounded-2xl font-black text-xl border-2 border-green-200">
                                        大捷 {score}
                                    </div>
                                    <div className="flex-1 bg-red-50 text-red-700 py-4 rounded-2xl font-black text-xl border-2 border-red-200">
                                        失利 {questions.length - score}
                                    </div>
                                </div>
                                
                                <div className="flex flex-col gap-4">
                                    <button onClick={onMenu} className="w-full py-4 bg-gray-100 hover:bg-gray-200 rounded-2xl font-black text-gray-700 text-xl transition-colors">返回大營</button>
                                    <button onClick={onViewHistory} className="w-full py-4 bg-amber-600 hover:bg-amber-700 rounded-2xl font-black text-white shadow-xl shadow-amber-200 text-xl transition-all transform active:scale-95">查看詳細戰報</button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="max-w-4xl mx-auto pb-20 px-4">
                    <div className="bg-white/95 backdrop-blur shadow-sm p-4 rounded-b-2xl mb-8 sticky top-0 z-30 border-t-4 border-amber-500 flex flex-col md:flex-row justify-between items-center transition-all">
                        <div className="flex items-center gap-4 mb-4 md:mb-0 w-full md:w-auto justify-between md:justify-start">
                            <button onClick={onMenu} className="text-gray-500 text-sm flex items-center hover:text-red-600 font-bold bg-gray-100 px-3 py-2 rounded-lg transition-colors"><Icon path={icons.left} className="w-4 h-4 mr-1"/> 撤退</button>
                            <div className="font-bold text-xl flex items-center gap-3">
                                <span>{userName}</span>
                                <span className="bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-black border border-amber-200">戰功: {score}</span>
                            </div>
                            <div className="w-24 text-right">
                                {combo > 1 && <div className="text-orange-600 font-black animate-pop text-2xl drop-shadow-sm inline-block">🔥 x{combo}</div>}
                            </div>
                        </div>
                        <div className="flex overflow-x-auto max-w-full w-full md:w-auto pb-1 md:pb-0 gap-2 no-scrollbar">
                             {Array.from({ length: totalPages }).map((_, i) => {
                                const isCompleted = completedDays.includes(`精選成語-${i}`);
                                return (
                                    <button key={i} onClick={() => onPageChange(i)} 
                                        className={`px-3 py-1.5 rounded-md text-xs font-bold whitespace-nowrap flex items-center gap-1 transition-all flex-shrink-0
                                        ${quizPage === i ? 'bg-amber-600 text-white shadow-md' : 'bg-gray-100 text-gray-500 hover:bg-gray-200'}`}>
                                        卷{i + 1}
                                        {isCompleted && <span className="bg-green-400 text-white text-[10px] w-3 h-3 flex items-center justify-center rounded-full">✓</span>}
                                    </button>
                                );
                            })}
                        </div>
                    </div>

                    <div className="space-y-8">
                        {questions.map((q, idx) => (
                            <div key={idx} className={`bg-white/95 backdrop-blur-sm rounded-3xl shadow-sm border-4 overflow-hidden transition-all duration-500 relative ${q.userAnswer === null ? 'border-transparent shadow-md' : (q.isCorrect ? 'border-green-200 bg-green-50/20' : 'border-red-200 bg-red-50/20')}`}>
                                <button onClick={() => toggleFavorite(q.id)} className={`absolute top-5 right-5 z-10 transition-colors p-2 rounded-full bg-white/50 hover:bg-white ${favorites.includes(q.id) ? 'text-red-500' : 'text-gray-300 hover:text-red-500'}`}>
                                    <Icon path={icons.heart} className="w-7 h-7" fill={favorites.includes(q.id) ? "currentColor" : "none"} />
                                </button>
                                <div className="p-8 border-b border-gray-100">
                                    <div className="flex justify-between items-center mb-6">
                                        <span className="font-black text-amber-900 tracking-wider text-sm bg-amber-100 px-3 py-1 rounded-full border border-amber-200">問題 {idx + 1}</span>
                                        {q.userAnswer !== null && (q.isCorrect ? 
                                            <span className="text-green-600 font-black flex items-center text-lg animate-pop mr-12"><Icon path={icons.check} className="w-6 h-6 mr-1"/> 正確</span> : 
                                            <span className="text-red-600 font-black flex items-center text-lg animate-shake mr-12"><Icon path={icons.alert} className="w-6 h-6 mr-1"/> 錯誤</span>
                                        )}
                                    </div>
                                    <div className="text-2xl md:text-3xl font-bold text-gray-800 leading-relaxed text-justify">
                                        {/* 使用 sentence2 作為題目 */}
                                        {q.sentence2 && q.sentence2.split(q.term).map((part, i, arr) => (
                                            <span key={i}>
                                                {part}
                                                {i < arr.length - 1 && (
                                                    <span className="inline-block w-32 border-b-4 border-gray-300 mx-2 align-baseline bg-gray-100 rounded px-2 h-8 relative top-1">
                                                        {q.userAnswer !== null && !q.isCorrect && <span className="absolute -top-8 left-0 text-sm text-green-600 font-bold whitespace-nowrap">{q.term}</span>}
                                                    </span>
                                                )}
                                            </span>
                                        ))}。
                                    </div>
                                </div>
                                <div className="p-6 bg-gray-50/50">
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        {q.options.map(opt => {
                                            let btnClass = "p-5 rounded-2xl border-2 text-left font-bold text-xl transition-all relative overflow-hidden "; 
                                            if (q.userAnswer === null) btnClass += "bg-white border-gray-200 hover:border-amber-400 hover:shadow-md cursor-pointer active:scale-[0.98] text-gray-700";
                                            else { 
                                                if (opt.id === q.id) btnClass += "bg-green-100 border-green-500 text-green-800 ring-2 ring-green-200 shadow-md"; 
                                                else if (opt.id === q.userAnswer) btnClass += "bg-red-100 border-red-500 text-red-800 opacity-80"; 
                                                else btnClass += "bg-gray-50 border-gray-200 text-gray-300 opacity-40 grayscale"; 
                                            }
                                            return (
                                                <button key={opt.id} onClick={() => onAnswer(idx, opt.id)} disabled={q.userAnswer !== null} className={btnClass}>
                                                    {opt.term}
                                                    {q.userAnswer !== null && opt.id === q.id && <div className="absolute right-4 top-1/2 -translate-y-1/2 text-green-600 bg-white rounded-full p-1"><Icon path={icons.check} className="w-5 h-5"/></div>}
                                                </button>
                                            )
                                        })}
                                    </div>
                                </div>
                                {q.userAnswer !== null && !q.isCorrect && (
                                    <div className="p-6 bg-red-50/50 border-t border-red-100 animate-fade-in-up">
                                        <div className="bg-white rounded-xl p-5 border border-red-200 flex flex-col md:flex-row gap-5 items-start shadow-sm">
                                            <div className="w-full md:w-40 aspect-[4/3] rounded-lg overflow-hidden border border-gray-200 bg-gray-100 flex-shrink-0">
                                                <img 
                                                    src={`images/p${String(q.id).padStart(3, '0')}.jpg`}
                                                    className="w-full h-full object-cover" 
                                                    onError={(e) => {
                                                        e.target.onerror = null; 
                                                        e.target.parentNode.innerHTML = `<div class="w-full h-full flex items-center justify-center bg-gray-100 text-gray-400 text-xs p-2 text-center">${q.scene}</div>`;
                                                    }}
                                                />
                                            </div>
                                            <div className="flex-1">
                                                <div className="text-sm font-black text-red-800 mb-1 flex items-center gap-2 uppercase tracking-wide">
                                                    <Icon path={icons.book} className="w-4 h-4"/> 成語釋義
                                                </div>
                                                <div className="flex items-center gap-2 mb-2">
                                                    <div className="text-2xl font-black text-gray-900">{q.term}</div>
                                                </div>
                                                <div className="text-gray-700 text-base leading-relaxed">{q.definition}</div>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const HistoryView = ({ historyLog, setHistoryLog, onMenu }) => {
            const [selectedLog, setSelectedLog] = useState(null);
            
            const renderQuestionSentence = (sentence, term) => { if (!sentence) return <span className="text-gray-400 italic">（例句資料缺失）</span>; return sentence.split(term).map((part, i, arr) => (<span key={i}>{part}{i < arr.length - 1 && <span className="inline-block min-w-[3rem] border-b-2 border-gray-400 mx-1 align-bottom text-transparent select-none bg-gray-200/50 rounded h-6"></span>}</span>)); };

            if (selectedLog) {
                return (
                    <div className="w-full max-w-4xl mx-auto bg-white/95 backdrop-blur-md min-h-screen p-6 md:p-8 shadow-2xl animate-fade-in-up">
                        <div className="flex justify-between items-center mb-8 pb-4 border-b border-gray-200 sticky top-0 bg-white z-20 pt-4">
                            <button onClick={() => setSelectedLog(null)} className="flex items-center text-gray-500 hover:text-amber-800 font-bold text-lg px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors"><Icon path={icons.left} className="w-6 h-6 mr-1"/> 返回</button>
                            <div className="text-right">
                                <h2 className="text-2xl font-black text-gray-800">戰役回放</h2>
                                <p className="text-gray-500 text-sm mt-1 font-mono">{selectedLog.date}</p>
                            </div>
                        </div>
                        <div className="space-y-6">
                            <div className="flex justify-center mb-8">
                                <div className="text-center">
                                    <div className="text-sm text-gray-400 font-bold uppercase mb-1">總得分</div>
                                    <div className="text-5xl font-black text-amber-600">{selectedLog.score} <span className="text-2xl text-gray-300">/ {selectedLog.total}</span></div>
                                </div>
                            </div>
                            {selectedLog.details.map((d, i) => (
                                <div key={i} className={`p-6 rounded-2xl border-l-8 shadow-sm ${d.isCorrect ? 'border-green-400 bg-green-50/30' : 'border-red-400 bg-red-50/30'}`}>
                                    <div className="mb-3 font-bold text-gray-800 text-xl leading-relaxed">{renderQuestionSentence(d.sentence, d.term)}</div>
                                    <div className="flex flex-col md:flex-row md:items-center gap-2 md:gap-6 bg-white/50 p-3 rounded-lg">
                                        <div className="flex items-center">
                                            <span className="text-gray-400 text-xs font-bold uppercase mr-2">您的選擇</span>
                                            <span className={`text-lg font-bold ${d.isCorrect ? "text-green-700" : "text-red-600 line-through decoration-2"}`}>{d.userAnswer}</span>
                                        </div>
                                        {!d.isCorrect && (
                                            <div className="flex items-center">
                                                <span className="text-gray-400 text-xs font-bold uppercase mr-2">正解</span>
                                                <span className="text-green-700 text-lg font-black">{d.correctAnswer}</span>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            ))}
                        </div>
                        <div className="h-20"></div>
                    </div>
                )
            }
            return (
                <div className="max-w-4xl mx-auto px-4 py-8">
                    <div className="flex items-center mb-8">
                        <button onClick={onMenu} className="mr-4 p-3 bg-white rounded-xl shadow border border-gray-200 hover:bg-gray-50"><Icon path={icons.left} className="w-5 h-5"/></button>
                        <h2 className="text-3xl font-black text-gray-800 flex items-center gap-3">📜 歷史戰績 <span className="text-sm font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-full">{historyLog.length} 場</span></h2>
                    </div>
                    {historyLog.length === 0 ? (
                        <div className="text-center py-32 text-gray-400 border-2 border-dashed border-gray-200 rounded-3xl bg-white/80 backdrop-blur">
                            <Icon path={icons.history} className="w-16 h-16 mx-auto mb-4 text-gray-300"/>
                            <p className="text-xl font-bold">尚無戰役紀錄</p>
                            <p className="text-sm mt-2">快去挑戰吧！</p>
                        </div>
                    ) : (
                        <div className="bg-white/95 backdrop-blur-md rounded-3xl shadow-lg overflow-hidden border border-gray-200">
                            <table className="w-full text-left border-collapse">
                                <thead className="bg-amber-50 border-b border-amber-100">
                                    <tr>
                                        <th className="p-5 font-black text-amber-900 text-sm uppercase tracking-wider hidden md:table-cell">日期</th>
                                        <th className="p-5 font-black text-amber-900 text-sm uppercase tracking-wider">主公</th>
                                        <th className="p-5 font-black text-amber-900 text-sm uppercase tracking-wider">戰功</th>
                                        <th className="p-5 font-black text-amber-900 text-sm uppercase tracking-wider text-right">操作</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-gray-100">
                                    {historyLog.map(log => (
                                        <tr key={log.id} className="hover:bg-amber-50/50 transition-colors group">
                                            <td className="p-5 text-gray-500 text-sm font-mono hidden md:table-cell">{log.date.split(',')[0]}</td>
                                            <td className="p-5 font-bold text-gray-800">
                                                <div className="md:hidden text-xs text-gray-400 mb-1">{log.date.split(',')[0]}</div>
                                                {log.userName}
                                            </td>
                                            <td className="p-5">
                                                <span className={`font-black px-3 py-1 rounded-lg text-sm ${log.score === log.total ? 'bg-green-100 text-green-700 border border-green-200' : 'bg-gray-100 text-gray-700 border border-gray-200'}`}>
                                                    {log.score} <span className="text-gray-400 font-normal">/ {log.total}</span>
                                                </span>
                                            </td>
                                            <td className="p-5 text-right">
                                                <button onClick={() => setSelectedLog(log)} className="text-amber-600 hover:text-white hover:bg-amber-600 px-4 py-2 rounded-lg text-sm font-bold transition-all border border-amber-200 hover:border-amber-600">
                                                    查看
                                                </button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    )}
                     <div className="text-center mt-12 pb-10">
                         <button onClick={() => {if(confirm('確定焚毀所有戰報？此操作無法復原！')) setHistoryLog([])}} className="text-red-400 hover:text-red-600 text-sm flex items-center justify-center mx-auto hover:bg-red-50/80 px-4 py-2 rounded-lg transition-colors">
                             <Icon path={icons.trash} className="w-4 h-4 mr-2"/> 清除所有紀錄
                        </button>
                    </div>
                </div>
            );
        };

        const MistakeView = ({ mistakes, mistakeLog, setMistakeLog, onMenu, onReviewAll }) => {
            return (
                <div className="max-w-4xl mx-auto px-4 py-8">
                    <div className="flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4">
                        <div className="flex items-center">
                            <button onClick={onMenu} className="mr-4 p-3 bg-white rounded-xl shadow border border-gray-200 hover:bg-gray-50"><Icon path={icons.left} className="w-5 h-5"/></button>
                            <h2 className="text-3xl font-black text-gray-800 flex items-center"><Icon path={icons.alert} className="w-8 h-8 text-red-500 mr-3"/> 錯題軍令狀</h2>
                        </div>
                        {mistakes.length > 0 && (
                            <button onClick={onReviewAll} className="w-full md:w-auto px-8 py-3 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-700 font-bold animate-pulse flex items-center justify-center">
                                <Icon path={icons.play} className="w-5 h-5 mr-2" fill="currentColor"/>
                                立即複習 ({mistakes.length})
                            </button>
                        )}
                    </div>

                    {mistakes.length === 0 ? (
                        <div className="text-center py-32 bg-white/80 backdrop-blur rounded-3xl shadow-sm border border-green-100">
                            <div className="text-8xl mb-6">🎉</div>
                            <p className="text-2xl text-gray-800 font-black mb-2">太棒了！</p>
                            <p className="text-gray-500">目前沒有錯題紀錄，繼續保持！</p>
                        </div>
                    ) : (
                        <div className="grid gap-4">
                            {mistakes.map(item => { 
                                const log = mistakeLog.find(m => m.id === item.id); 
                                return (
                                    <div key={item.id} className="bg-white/95 backdrop-blur-sm p-6 rounded-2xl shadow-sm border-l-8 border-red-400 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 hover:shadow-md transition-shadow">
                                        <div>
                                            <div className="flex items-center gap-3 mb-2">
                                                <h3 className="text-2xl font-black text-gray-800">{item.term}</h3>
                                                <span className="text-xs font-bold text-red-600 bg-red-100 px-2 py-1 rounded-md border border-red-200">錯誤 {log.count} 次</span>
                                            </div>
                                            <p className="text-gray-600 text-base font-medium">{item.definition}</p>
                                        </div>
                                        <div className="text-xs text-gray-400 text-right md:w-32 flex-shrink-0 font-mono">
                                            最後錯誤:<br/>{new Date(log.lastMissed).toLocaleDateString()}
                                        </div>
                                    </div>
                                ); 
                            })}
                        </div>
                    )}
                    
                    {mistakes.length > 0 && (
                        <div className="text-center mt-12 pb-10">
                            <button onClick={() => {if(confirm('確定清空錯題本？這將移除所有錯誤紀錄。')) { setMistakeLog([]); localStorage.setItem('ChineseIdiom4Mistakes', '[]'); } }} className="text-gray-400 hover:text-gray-600 text-sm hover:bg-gray-100/80 px-4 py-2 rounded-lg transition-colors">
                                清空錯題本
                            </button>
                        </div>
                    )}
                </div>
            );
        };

        const App = () => {
            const parsedData = useMemo(() => ({ "精選成語": IDIOM_DATA }), []);
            const allItems = IDIOM_DATA;
            const categories = ["精選成語"];

            const [currentMode, setCurrentMode] = useState('menu'); 
            const [activeCategory, setActiveCategory] = useState(null);
            const [showNameWarning, setShowNameWarning] = useState(false);
            
            const [userName, setUserName] = useState('');
            const [isLocked, setIsLocked] = useState(false);
            const [lastUser, setLastUser] = useState(() => localStorage.getItem('ChineseIdiom4LastUser'));

            // 背景圖狀態
            const [bgImage, setBgImage] = useState('');

            // 初始化背景圖
            useEffect(() => {
                const randomNum = Math.floor(Math.random() * 5) + 1;
                setBgImage(`images/san${randomNum}.jpg`);
            }, []);

            // 狀態初始化與 F5 保護 (Session Restore)
            useEffect(() => {
                const savedSessionUser = sessionStorage.getItem('ChineseIdiom4SessionUser');
                if (savedSessionUser) {
                    setUserName(savedSessionUser);
                    setIsLocked(true);
                }
            }, []);

            const [favorites, setFavorites] = useState(() => JSON.parse(localStorage.getItem('ChineseIdiom4Favorites')) || []);
            const [historyLog, setHistoryLog] = useState(() => JSON.parse(localStorage.getItem('ChineseIdiom4History')) || []);
            const [mistakeLog, setMistakeLog] = useState(() => JSON.parse(localStorage.getItem('ChineseIdiom4Mistakes')) || []);
            const [completedDays, setCompletedDays] = useState(() => JSON.parse(localStorage.getItem('ChineseIdiom4CompletedDays')) || []);
            const [learnPage, setLearnPage] = useState(0);

            const [quizQuestions, setQuizQuestions] = useState([]);
            const [quizScore, setQuizScore] = useState(0);
            const [combo, setCombo] = useState(0);
            const [quizPage, setQuizPage] = useState(0);

            // 存儲副作用
            useEffect(() => { localStorage.setItem('ChineseIdiom4Favorites', JSON.stringify(favorites)); }, [favorites]);
            useEffect(() => { localStorage.setItem('ChineseIdiom4History', JSON.stringify(historyLog)); }, [historyLog]);
            useEffect(() => { 
                if (mistakeLog.length > 0) localStorage.setItem('ChineseIdiom4Mistakes', JSON.stringify(mistakeLog)); 
                else if (mistakeLog.length === 0 && localStorage.getItem('ChineseIdiom4Mistakes')) localStorage.removeItem('ChineseIdiom4Mistakes');
            }, [mistakeLog]);
            useEffect(() => { localStorage.setItem('ChineseIdiom4CompletedDays', JSON.stringify(completedDays)); }, [completedDays]);
            
            // Login Handlers
            const handleLogin = () => {
                if (userName.trim()) {
                    setIsLocked(true);
                    setShowNameWarning(false);
                    localStorage.setItem('ChineseIdiom4LastUser', userName);
                    sessionStorage.setItem('ChineseIdiom4SessionUser', userName); 
                    setLastUser(userName);
                } else {
                    setShowNameWarning(true);
                }
            };

            const handleQuickLogin = () => {
                const storedUser = localStorage.getItem('ChineseIdiom4LastUser');
                if (storedUser) {
                    setUserName(storedUser);
                    setIsLocked(true);
                    setShowNameWarning(false);
                    sessionStorage.setItem('ChineseIdiom4SessionUser', storedUser);
                }
            };

            const handleLogout = () => {
                if(confirm('確定要登出嗎？')) {
                    setIsLocked(false);
                    setUserName('');
                    sessionStorage.removeItem('ChineseIdiom4SessionUser');
                }
            };

            const handleDeleteUser = () => {
                if (confirm('【危險操作】確定要刪除這位使用者的所有資料嗎？')) {
                    if (confirm('再次確認：這將會清除所有學習紀錄、收藏和錯題本，且無法復原！確定要執行嗎？')) {
                        localStorage.removeItem('ChineseIdiom4LastUser');
                        localStorage.removeItem('ChineseIdiom4Favorites');
                        localStorage.removeItem('ChineseIdiom4History');
                        localStorage.removeItem('ChineseIdiom4Mistakes');
                        localStorage.removeItem('ChineseIdiom4CompletedDays');
                        sessionStorage.removeItem('ChineseIdiom4SessionUser');
                        
                        setFavorites([]);
                        setHistoryLog([]);
                        setMistakeLog([]);
                        setCompletedDays([]);
                        setLastUser(null);
                        setIsLocked(false);
                        setUserName('');
                    }
                }
            };

            const toggleFavorite = (id) => { 
                setFavorites(prev => prev.includes(id) ? prev.filter(fid => fid !== id) : [...prev, id]); 
            };
            
            // Sound Effects
            const playSoundEffect = (type) => {
                 try {
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    if (!AudioContext) return;
                    const ctx = new AudioContext();
                    const now = ctx.currentTime;
                    if (type === 'correct') {
                        const osc1 = ctx.createOscillator(); const gain1 = ctx.createGain();
                        osc1.type = 'sine'; osc1.frequency.setValueAtTime(523.25, now); gain1.gain.setValueAtTime(0.1, now); gain1.gain.exponentialRampToValueAtTime(0.001, now + 0.5); osc1.connect(gain1); gain1.connect(ctx.destination); osc1.start(now); osc1.stop(now + 0.5);
                        const osc2 = ctx.createOscillator(); const gain2 = ctx.createGain();
                        osc2.type = 'sine'; osc2.frequency.setValueAtTime(659.25, now + 0.1); gain2.gain.setValueAtTime(0.1, now + 0.1); gain2.gain.exponentialRampToValueAtTime(0.001, now + 0.6); osc2.connect(gain2); gain2.connect(ctx.destination); osc2.start(now + 0.1); osc2.stop(now + 0.6);
                    } else {
                        const osc = ctx.createOscillator(); const gain = ctx.createGain();
                        osc.type = 'triangle'; osc.frequency.setValueAtTime(150, now); osc.frequency.exponentialRampToValueAtTime(50, now + 0.3); gain.gain.setValueAtTime(0.2, now); gain.gain.exponentialRampToValueAtTime(0.001, now + 0.3); osc.connect(gain); gain.connect(ctx.destination); osc.start(now); osc.stop(now + 0.3);
                    }
                } catch (e) { console.error("Audio play failed", e); }
            };

            const handleStartQuiz = (category, pageIdx = 0, isMistakeMode = false) => {
                if (!isLocked) { setShowNameWarning(true); return; }
                let questions = [];
                
                if (isMistakeMode) {
                    const mistakeIds = mistakeLog.map(m => m.id);
                    questions = allItems.filter(i => mistakeIds.includes(i.id));
                    questions.sort(() => Math.random() - 0.5);
                } else {
                    let sourceItems = category === '收藏夾' ? allItems.filter(i => favorites.includes(i.id)) : parsedData["精選成語"];
                    if (!sourceItems || sourceItems.length === 0) {
                         alert("此分類尚無內容，請先進行收藏或選擇其他分類！");
                         return;
                    }
                    const start = pageIdx * ITEMS_PER_PAGE;
                    if (start >= sourceItems.length && pageIdx > 0) {
                         const correctPage = Math.floor((sourceItems.length - 1) / ITEMS_PER_PAGE);
                         handleStartQuiz(category, correctPage, isMistakeMode);
                         return;
                    }
                    questions = sourceItems.slice(start, start + ITEMS_PER_PAGE);
                }

                if (questions.length === 0) {
                    alert(isMistakeMode ? "太棒了！目前沒有錯題需要複習！" : "此頁面無題目");
                    return;
                }

                const quizSet = questions.map(item => {
                    let pool = allItems.filter(i => i.id !== item.id);
                    const distractors = pool.sort(() => Math.random() - 0.5).slice(0, 3);
                    const options = [...distractors, item].sort(() => Math.random() - 0.5);
                    return { ...item, options, userAnswer: null, isCorrect: null };
                });

                setQuizQuestions(quizSet);
                setQuizScore(0);
                setCombo(0);
                setQuizPage(pageIdx);
                setActiveCategory(isMistakeMode ? '錯題本' : category);
                setCurrentMode('quiz');
                window.scrollTo(0,0);
            };

            const handleAnswer = (qIndex, selectedOptionId) => {
                const newQuestions = [...quizQuestions];
                const q = newQuestions[qIndex];
                if (q.userAnswer !== null) return; 

                const isCorrect = selectedOptionId === q.id;
                q.userAnswer = selectedOptionId;
                q.isCorrect = isCorrect;

                if (isCorrect) {
                    setQuizScore(s => s + 1);
                    setCombo(c => c + 1);
                    playSoundEffect('correct');
                    if (combo > 0 && (combo + 1) % 5 === 0) {
                         confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                    } else {
                         confetti({ particleCount: 30, spread: 50, origin: { y: 0.7 }, scalar: 0.7 });
                    }
                } else {
                    setCombo(0);
                    playSoundEffect('wrong');
                    setMistakeLog(prev => {
                        const existing = prev.find(m => m.id === q.id);
                        const newLog = existing 
                            ? prev.map(m => m.id === q.id ? { ...m, count: m.count + 1, lastMissed: new Date().toISOString() } : m) 
                            : [...prev, { id: q.id, count: 1, lastMissed: new Date().toISOString() }];
                        return newLog;
                    });
                }
                setQuizQuestions(newQuestions);
            };

            const finishQuiz = () => {
                const record = { 
                    id: Date.now(), 
                    date: new Date().toLocaleString(), 
                    userName, 
                    score: quizScore, 
                    total: quizQuestions.length, 
                    category: activeCategory, 
                    details: quizQuestions.map(q => ({ 
                        term: q.term, 
                        definition: q.definition, 
                        sentence: q.sentence2, // 修正：紀錄測驗用例句
                        isCorrect: q.isCorrect, 
                        userAnswer: q.options.find(o => o.id === q.userAnswer)?.term || "未作答", 
                        correctAnswer: q.term 
                    })) 
                };
                setHistoryLog(prev => [record, ...prev]);
                if (activeCategory !== '收藏夾' && activeCategory !== '錯題本') { 
                    const key = `${activeCategory}-${quizPage}`; 
                    if (!completedDays.includes(key) && quizScore > 0) { 
                        setCompletedDays(prev => [...prev, key]); 
                    } 
                }
            };

            return (
                <div className="min-h-screen font-sans selection:bg-amber-200 selection:text-amber-900 relative">
                    {/* Background Layer */}
                    <div 
                        className="fixed inset-0 z-0 bg-cover bg-center transition-all duration-1000"
                        style={{ 
                            backgroundImage: `url('${bgImage}')`,
                            backgroundColor: '#fcf9f2' 
                        }}
                    ></div>
                    {/* Overlay for Readability */}
                    <div className="fixed inset-0 z-0 bg-white/70 backdrop-blur-[2px]"></div>

                    {/* Main Content Area */}
                    <div className="relative z-10">
                        {currentMode === 'menu' && (
                            <MenuView 
                                userName={userName} setUserName={setUserName} showNameWarning={showNameWarning}
                                mistakeLog={mistakeLog} favorites={favorites} parsedData={parsedData}
                                onStartLearn={(cat) => { setActiveCategory(cat); setLearnPage(0); setCurrentMode('learn'); }}
                                onStartQuiz={(cat) => handleStartQuiz(cat, 0)}
                                onViewHistory={() => setCurrentMode('history')}
                                onViewMistakes={() => setCurrentMode('mistakes')}
                                onViewTable={() => setCurrentMode('table')}
                                onLogin={handleLogin} isLocked={isLocked} onQuickLogin={handleQuickLogin} lastUser={lastUser}
                                onLogout={handleLogout} onDeleteUser={handleDeleteUser}
                            />
                        )}
                        {currentMode === 'learn' && (
                            <LearnView 
                                items={activeCategory === '收藏夾' ? allItems.filter(i => favorites.includes(i.id)) : parsedData["精選成語"]}
                                learnPage={learnPage} setLearnPage={setLearnPage}
                                favorites={favorites} toggleFavorite={toggleFavorite}
                                completedDays={completedDays}
                                onMenu={() => setCurrentMode('menu')}
                            />
                        )}
                        {currentMode === 'quiz' && (
                            <QuizView 
                                questions={quizQuestions} score={quizScore} userName={userName} combo={combo}
                                onAnswer={handleAnswer} onFinish={finishQuiz}
                                onMenu={() => setCurrentMode('menu')}
                                onViewHistory={() => setCurrentMode('history')}
                                favorites={favorites} toggleFavorite={toggleFavorite}
                                activeCategory={activeCategory}
                                totalItems={activeCategory === '收藏夾' ? favorites.length : parsedData["精選成語"].length}
                                quizPage={quizPage}
                                onPageChange={(page) => handleStartQuiz(activeCategory, page)}
                                completedDays={completedDays}
                            />
                        )}
                        {currentMode === 'history' && <HistoryView historyLog={historyLog} setHistoryLog={setHistoryLog} onMenu={() => setCurrentMode('menu')} />}
                        {currentMode === 'mistakes' && (
                            <MistakeView 
                                mistakes={allItems.filter(i => mistakeLog.some(m => m.id === i.id))}
                                mistakeLog={mistakeLog} setMistakeLog={setMistakeLog}
                                onMenu={() => setCurrentMode('menu')}
                                onReviewAll={() => handleStartQuiz(null, 0, true)}
                            />
                        )}
                        {currentMode === 'table' && (
                            <TableView 
                                items={allItems}
                                onMenu={() => setCurrentMode('menu')}
                                favorites={favorites}
                                toggleFavorite={toggleFavorite}
                            />
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>